/*
	This is the Obsidian example vault is amazing, there are a lot of dazzling features and showcase, I believe you will wonder a bit, is this Obsidian?
	[Blue-topaz-examples](https://github.com/cumany/Blue-topaz-examples)
	*/

var ue=Object.create;var M=Object.defineProperty;var me=Object.getOwnPropertyDescriptor;var be=Object.getOwnPropertyNames;var ve=Object.getPrototypeOf,Te=Object.prototype.hasOwnProperty;var B=n=>M(n,"__esModule",{value:!0});var ye=(n,e)=>{B(n);for(var s in e)M(n,s,{get:e[s],enumerable:!0})},Se=(n,e,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of be(e))!Te.call(n,r)&&r!=="default"&&M(n,r,{get:()=>e[r],enumerable:!(s=me(e,r))||s.enumerable});return n},k=n=>Se(B(M(n!=null?ue(ve(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);var C=(n,e,s)=>new Promise((r,a)=>{var o=l=>{try{i(s.next(l))}catch(p){a(p)}},t=l=>{try{i(s.throw(l))}catch(p){a(p)}},i=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,t);i((s=s.apply(n,e)).next())});ye(exports,{default:()=>P,refresh_node:()=>he,selfDestruct:()=>H});var g=k(require("obsidian"));var u=k(require("obsidian"));function O(n,e,s,r,a=null){return C(this,null,function*(){let o=/(?<=^\s*)[0-9]+\.\s/,t=/(?<=^\s*)[\-\+]\s/,i,l="";(i=o.exec(e))!==null?(l=i[0],e=e.replace(o,"")):(i=t.exec(e))!==null&&(l=i[0],e=e.replace(t,""));let p=s;yield u.MarkdownRenderer.renderMarkdown(e,p,r,a);let v=p.createEl("a");v.addClass("text"),v.onclick=function(h){var S;let d=(S=parseInt(p.parentElement.getAttribute("data-line")))!=null?S:0;if(h.ctrlKey)we(n,d);else{Ce(n,d);let L=p.parentElement.parentElement.querySelector(".text-wrap.located");L&&L.removeClass("located"),p.addClass("located")}};let c=p.querySelector("p");if(c){let h=/<a[^>]*>|<\/[^>]*a>/gm;l?v.innerHTML=l+c.innerHTML.replace(h,""):v.innerHTML=c.innerHTML.replace(h,""),p.removeChild(c)}})}function V(n,e,s,r){return C(this,null,function*(){let a=e.createEl("li");a.addClass("heading-list-item"),a.setAttribute("data-level",s.level.toString()),a.setAttribute("data-id",r.toString()),a.setAttribute("data-line",s.position.start.line.toString());let o=a.createEl("div");o.addClass("text-wrap"),O(n,s.heading,o,n.file.path,null);let t=a.createEl("div");t.addClass("line-wrap"),t.createDiv().addClass("line")})}var Ce=(n,e)=>{n.leaf.openFile(n.file,{eState:{line:e}})},we=(n,e)=>{var o,t;let s=(t=(o=n==null?void 0:n.currentMode.getFoldInfo())==null?void 0:o.folds)!=null?t:[],r=e,a=0;if(s.some((i,l)=>(a=l,i.from==r)))s.splice(a,1);else{let i={from:e,to:e+1};s.push(i)}n==null||n.currentMode.applyFoldInfo({folds:s,lines:n.editor.lineCount()}),n==null||n.onMarkdownFold()};function F(n,e){var a;let s=(o,t)=>{e.settings.positionStyle=="right"?(t.addClass("floating-right"),t.removeClass("floating-left")):e.settings.positionStyle=="left"&&(t.addClass("floating-left"),t.removeClass("floating-rigth")),e.settings.isLeft?(t.removeClass("alignLeft"),t.addClass("alignLeft")):t.removeClass("alignLeft");let i=t.createEl("ul");i.addClass("floating-toc");let l=i.createEl("div");l.addClass("toolbar"),l.addClass("pin"),l.addClass("hide"),new u.ButtonComponent(l).setIcon("pin").setTooltip("pin").onClick(()=>{t.classList.contains("pin")?t.removeClass("pin"):t.addClass("pin")}),i.onmouseenter=function(){l.removeClass("hide"),t.addClass("hover")},i.onmouseleave=function(){l.addClass("hide"),t.removeClass("hover")},new u.ButtonComponent(l).setIcon("double-up-arrow-glyph").setTooltip("Scroll to Top").setClass("top").onClick(()=>{let h=this.app.workspace.getActiveViewOfType(u.MarkdownView);h&&h.setEphemeralState({scroll:0})});let c=n.workspace.getActiveFile();globalThis.headingdata=n.metadataCache.getFileCache(c).headings,globalThis.headingdata&&(e.settings.ignoreTopHeader&&(globalThis.headingdata=n.metadataCache.getFileCache(c).headings.slice(1)),globalThis.headingdata.forEach((h,d)=>{let S=n.workspace.getActiveViewOfType(u.MarkdownView);V(S,i,h,d)}),o==null||o.querySelector(".markdown-source-view").insertAdjacentElement("beforebegin",t))};if(this.app.workspace.getActiveViewOfType(u.MarkdownView)){(0,u.requireApiVersion)("0.15.0")?activeDocument=activeWindow.document:activeDocument=window.document;let o=e.app.workspace.getActiveViewOfType(u.MarkdownView);if((a=o.contentEl)==null?void 0:a.querySelector(".floating-toc-div"))return;{let i=createEl("div");i.addClass("floating-toc-div"),s(o.contentEl,i)}}}var y=k(require("obsidian"));var z=["left","right"],R={ignoreTopHeader:!1,positionStyle:"left",isLoadOnMobile:!0,isLeft:!1};var ge=k(require("obsidian"));var W={};var j={};var U={};var G={};var D={"Floating TOC position":"Floating TOC position","Floating TOC position, default on the left side of the notes":"Floating TOC position, default on the left side of the notes","Ignore top-level headers":"Ignore top-level headers","Select whether to ignore the top-level headings. When turned on, the top-level headings in the current note are not displayed in the floating TOC.":"Select whether to ignore the top-level headings. When turned on, the top-level headings in the current note are not displayed in the floating TOC.","Plugin Settings":"Plugin Settings","Plugin Style Settings":"Plugin Style Settings","Mobile enabled or not":"Mobile enabled or not","Whether to enable the plugin for the mobile client, the default is enabled.":"Whether to enable the plugin for the mobile client, the default is enabled.","If the floating Toc option is not found in the style setting, please reload the style setting plugin (turn it off and on again)":"If the floating Toc option is not found in the style setting, please reload the style setting plugin (turn it off and on again)","Left Aligned":"Left Aligned","whether it is left or right aligned When the floating toc is on the right":"whether it is left or right aligned When the floating toc is on the right"};var J={};var Y={};var $={};var K={};var Q={};var X={};var Z={};var ee={};var te={};var ne={};var ie={};var oe={};var le={};var ae={};var se={};var re={};var de={"Floating TOC position":"\u6D6E\u52A8\u76EE\u5F55\u663E\u793A\u4F4D\u7F6E","Floating TOC position, default on the left side of the notes":"\u6D6E\u52A8\u76EE\u5F55\u663E\u793A\u4F4D\u7F6E\uFF0C\u9ED8\u8BA4\u663E\u793A\u5728\u7B14\u8BB0\u5DE6\u4FA7","Ignore top-level headers":"\u662F\u5426\u5FFD\u7565\u9876\u7EA7\u76EE\u5F55","Select whether to ignore the top-level headings. When turned on, the top-level headings in the current note are not displayed in the floating TOC.":"\u9009\u62E9\u662F\u5426\u5FFD\u7565\u9876\u7EA7\u6807\u9898\uFF0C\u5F00\u542F\u540E\u5F53\u524D\u6587\u6863\u4E2D\u6700\u9876\u7EA7\u7684\u6807\u9898\u4E0D\u663E\u793A\u5728\u6D6E\u52A8\u76EE\u5F55\u4E2D\u3002","Plugin Settings":"\u63D2\u4EF6\u8BBE\u7F6E","Plugin Style Settings":"\u63D2\u4EF6\u6837\u5F0F\u8BBE\u7F6E","Mobile enabled or not":"\u662F\u5426\u5728\u79FB\u52A8\u7AEF\u542F\u7528","Whether to enable the plugin for the mobile client, the default is enabled.":"\u79FB\u52A8\u5BA2\u6237\u7AEF\u662F\u5426\u542F\u7528\u63D2\u4EF6\uFF0C\u9ED8\u8BA4\u542F\u7528\u3002","If the floating Toc option is not found in the style setting, please reload the style setting plugin (turn it off and on again)":"\u5982\u679Cstyle setting \u4E2D\u65E0\u6CD5\u770B\u5230 floating Toc\u9009\u9879\uFF0C\u8BF7\u91CD\u8F7Dstyle setting\u63D2\u4EF6\uFF08\u5173\u95ED\u518D\u5F00\u542F\u5373\u53EF\uFF09","Left Aligned":"\u5DE6\u5BF9\u9F50","whether it is left or right aligned When the floating toc is on the right":"\u5F53\u5DE5\u5177\u680F\u5728\u53F3\u4FA7\u65F6\uFF0C\u662F\u5426\u5DE6\u5BF9\u9F50"};var ce={};var Ee={ar:W,cs:j,da:U,de:G,en:D,"en-gb":J,es:Y,fr:$,hi:K,id:Q,it:X,ja:Z,ko:ee,nl:te,nn:ne,pl:ie,pt:oe,"pt-br":le,ro:ae,ru:se,tr:re,"zh-cn":de,"zh-tw":ce},pe=Ee[ge.moment.locale()];function m(n){return pe&&pe[n]||D[n]}var _=class extends y.PluginSettingTab{constructor(e,s){super(e,s);this.plugin=s,addEventListener("refresh-toc",()=>{H(),F(e,this.plugin)})}display(){let{containerEl:e}=this;e.empty(),e.createEl("h1",{text:"Obsidian Floating TOC "}),e.createEl("span",{text:""}).createEl("a",{text:"Author: Cuman \u2728",href:"https://github.com/cumany"}),e.createEl("span",{text:""}).createEl("a",{text:"Readme:\u4E2D\u6587",href:"https://github.com/cumany/obsidian-floating-toc-plugin/blob/master/README-zh_cn.md"}),e.createEl("span",{text:""}).createEl("a",{text:"|English  ",href:"https://github.com/cumany/obsidian-floating-toc-plugin/blob/master/README.md"}),e.createEl("p",{text:"\u{1F511}TIPS: "}).createEl("p",{text:"ctrl + click on the floating toc to collapse/expand the header."}),e.createEl("h2",{text:m("Plugin Settings")}),new y.Setting(e).setName(m("Floating TOC position")).setDesc(m("Floating TOC position, default on the left side of the notes")).addDropdown(t=>{let i={};z.map(l=>i[l]=l),t.addOptions(i),t.setValue(this.plugin.settings.positionStyle).onChange(l=>{this.plugin.settings.positionStyle=l,this.plugin.saveSettings(),setTimeout(()=>{this.display(),dispatchEvent(new Event("refresh-toc"))},100)})}),this.plugin.settings.positionStyle=="right"&&new y.Setting(e).setName(m("Left Aligned")).setDesc(m("whether it is left or right aligned When the floating toc is on the right")).addToggle(t=>{var i;return t.setValue((i=this.plugin.settings)==null?void 0:i.isLeft).onChange(l=>{this.plugin.settings.isLeft=l,this.plugin.saveSettings(),setTimeout(()=>{this.display(),dispatchEvent(new Event("refresh-toc"))},100)})}),new y.Setting(e).setName(m("Mobile enabled or not")).setDesc(m("Whether to enable the plugin for the mobile client, the default is enabled.")).addToggle(t=>{var i;return t.setValue((i=this.plugin.settings)==null?void 0:i.isLoadOnMobile).onChange(l=>{this.plugin.settings.isLoadOnMobile=l,this.plugin.saveSettings(),setTimeout(()=>{dispatchEvent(new Event("refresh-toc"))},100)})}),new y.Setting(e).setName(m("Ignore top-level headers")).setDesc(m("Select whether to ignore the top-level headings. When turned on, the top-level headings in the current note are not displayed in the floating TOC.")).addToggle(t=>{var i;return t.setValue((i=this.plugin.settings)==null?void 0:i.ignoreTopHeader).onChange(l=>{this.plugin.settings.ignoreTopHeader=l,this.plugin.saveSettings(),setTimeout(()=>{dispatchEvent(new Event("refresh-toc"))},100)})}),e.createEl("h2",{text:m("Plugin Style Settings")}),app.plugins.enabledPlugins.has("obsidian-style-settings")?(e.createEl("p",{text:"\u{1F514}Notice: "}).createEl("p",{text:m("If the floating Toc option is not found in the style setting, please reload the style setting plugin (turn it off and on again)")}),new y.ButtonComponent(e).setIcon("palette").setClass("tiny").setButtonText("\u{1F3A8} Open style settings").onClick(()=>{app.setting.open(),setTimeout(()=>app.setting.openTabById("obsidian-style-settings"),300)})):e.createEl("span",{text:""}).createEl("a",{text:"Please install or enable the style-settings plugin",href:"obsidian://show-plugin?id=obsidian-style-settings"});let r=e.createEl("div",{cls:"cDonationSection"}),a=createEl("p"),o=createEl("p");o.appendText("If you like this Plugin and are considering donating to support continued development, use the button below!"),a.setAttribute("style","color: var(--text-muted)"),r.appendChild(o),r.appendChild(a),r.appendChild(xe("https://github.com/cumany#thank-you-very-much-for-your-support"))}},xe=n=>{let e=createEl("a");return e.setAttribute("href",n),e.addClass("buymeacoffee-img"),e.innerHTML='<img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee &emoji=&slug=Cuman&button_colour=BD5FFF&font_colour=ffffff&font_family=Poppins&outline_colour=000000&coffee_colour=FFDD00" />',e};var b,w=0;function H(){(0,g.requireApiVersion)("0.15.0")?b=activeWindow.document:b=window.document,b.querySelectorAll(".floating-toc-div").forEach(e=>{e&&e.remove()})}function he(n){var s;(0,g.requireApiVersion)("0.15.0")?b=activeWindow.document:b=window.document;let e=(s=n.contentEl)==null?void 0:s.querySelector(".floating-toc-div");if(e){let r=e.querySelector("ul.floating-toc");r||(r=e.createEl("ul"),r.addClass("floating-toc"));let a=e==null?void 0:e.querySelectorAll("li.heading-list-item"),o=globalThis.headingdata;return o?(a.length>=o.length?a==null||a.forEach((t,i)=>{var l;if(o[i]){if(o[i].level==t.getAttribute("data-level")&&o[i].heading==t.children[0].innerText&&o[i].position.start.line==t.getAttribute("data-line"))return;t.setAttribute("data-level",o[i].level.toString()),t.setAttribute("data-id",i.toString()),t.setAttribute("data-line",o[i].position.start.line.toString()),(l=t.children[0].querySelector("a"))==null||l.remove(),O(n,o[i].heading,t.children[0],n.file.path,null)}else t.remove()}):o==null||o.forEach((t,i)=>{var l;if(i<=a.length-1){if(t.level.toString()==a[i].getAttribute("data-level")&&t.heading==a[i].children[0].innerText&&t.position.start.line.toString()==a[i].getAttribute("data-line"))return;a[i].setAttribute("data-level",t.level.toString()),a[i].setAttribute("data-id",i.toString()),a[i].setAttribute("data-line",t.position.start.line.toString()),(l=a[i].children[0].querySelector("a"))==null||l.remove(),O(n,t.heading,a[i].children[0],n.file.path,null)}else V(n,r,t,i)}),!0):(r.remove(),!1)}else return!1}function fe(n){for(var e=[];n=n.previousElementSibling;)n.nodeType==1&&e.push(n);return e}function Le(n){var s,r,a,o,t,i;let e=n.target;if(((s=e.parentElement)==null?void 0:s.classList.contains("cm-editor"))||((r=e.parentElement)==null?void 0:r.classList.contains("markdown-reading-view"))){let l=app.workspace.getActiveViewOfType(g.MarkdownView),p,v={};if(l){p=(a=l.currentMode.getScroll())!=null?a:0;let c=globalThis.headingdata,h=(o=c==null?void 0:c.length)!=null?o:0,d=l.contentEl.querySelector(".floating-toc");if(d){let S=parseInt((t=d.querySelector("li.heading-list-item"))==null?void 0:t.getAttribute("data-line")),L=parseInt((i=d.lastElementChild)==null?void 0:i.getAttribute("data-line"));if(p<=0){let E=d.querySelector(".heading-list-item.located");E&&E.removeClass("located");let f=d==null?void 0:d.querySelector(`li[data-line='${S}']`);f&&f.addClass("located");let T=parseInt(f.getAttribute("data-level"));T=T>1?T-1:1;let I=fe(f),x=d==null?void 0:d.querySelector("li.focus");x&&x.removeClass("focus"),I.some(N=>{if(N.dataset.level<=T.toString())return N.addClass("focus"),!0});let A=d.querySelector(".heading-list-item");setTimeout(()=>A.scrollIntoViewIfNeeded(),300)}else{for(;--h>=0;)if(c[h].position.start.line<=p){v=c[h],w=c[h].position.start.line;break}if(!v)return;let E=d.querySelector(".heading-list-item.located");E&&E.removeClass("located"),!w&&d&&(w=S);let f=d==null?void 0:d.querySelector(`li[data-line='${w}']`);if(f){if(w==L||w==S)f.addClass("located");else if(f.nextElementSibling){f.nextElementSibling.addClass("located");let T=parseInt(f.nextElementSibling.getAttribute("data-level"));T=T>1?T-1:1;let I=fe(f.nextElementSibling),x=d==null?void 0:d.querySelector("li.focus");x&&x.removeClass("focus"),I.some(A=>{if(A.dataset.level<=T.toString())return A.addClass("focus"),!0})}f.scrollIntoViewIfNeeded()}}}}}}var q=(0,g.debounce)(Le,200),P=class extends g.Plugin{onload(){return C(this,null,function*(){(0,g.requireApiVersion)("0.15.0")?b=activeWindow.document:b=window.document,yield this.loadSettings();let e=o=>{o&&(he(o)||F(app,this))},s=this.settings.isLoadOnMobile;if(g.Platform.isMobileApp&&s){console.log("floating toc disable loading on mobile");return}this.addCommand({id:"pin-toc-panel",name:"Pinning the Floating TOC panel",icon:"pin",callback:()=>C(this,null,function*(){let o=this.app.workspace.getActiveViewOfType(g.MarkdownView);if(o){let t=o.contentEl.querySelector(".floating-toc-div");t&&(t.classList.contains("pin")?t.removeClass("pin"):t.addClass("pin"))}})}),this.registerEvent(this.app.workspace.on("active-leaf-change",()=>{let o=this.app.workspace.getActiveViewOfType(g.MarkdownView);if(o){let t=this.app.workspace.getActiveFile(),i=this.app.metadataCache.getFileCache(t).headings;globalThis.headingdata=i,this.settings.ignoreTopHeader&&(globalThis.headingdata=i.slice(1)),a(o)}})),this.registerEvent(this.app.metadataCache.on("changed",()=>{var t;let o=this.app.workspace.getActiveViewOfType(g.MarkdownView);if(o){let i=o.file,l=this.app.metadataCache.getFileCache(i).headings,p=l==null?void 0:l.map(c=>c.level+c.heading+c.position.start.line),v=(t=globalThis.headingdata)==null?void 0:t.map(c=>c.level+c.heading+c.position.start.line);if(JSON.stringify(v)==JSON.stringify(p))return;globalThis.headingdata=l,this.settings.ignoreTopHeader&&(globalThis.headingdata=l.slice(1)),a(o)}}));let r=o=>{e(o)},a=o=>(0,g.debounce)(r(o),300,!0);b.addEventListener("scroll",q,!0),this.addSettingTab(new _(this.app,this)),e(this.app.workspace.getActiveViewOfType(g.MarkdownView)),(0,g.requireApiVersion)("0.15.0")&&this.app.workspace.on("window-open",o=>{o.doc.addEventListener("scroll",q,!0)}),app.workspace.onLayoutReady(()=>{app.workspace.trigger("parse-style-settings")})})}onunload(){(0,g.requireApiVersion)("0.15.0")?b=activeWindow.document:b=window.document,b.removeEventListener("scroll",q,!0),H()}loadSettings(){return C(this,null,function*(){this.settings=Object.assign({},R,yield this.loadData())})}saveSettings(){return C(this,null,function*(){yield this.saveData(this.settings)})}};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL21haW4udHMiLCAiLi4vc3JjL2NvbXBvbmVudHMvZmxvYXRpbmd0b2NVSS50cyIsICIuLi9zcmMvc2V0dGluZ3Mvc2V0dGluZ3NUYWIudHMiLCAiLi4vc3JjL3NldHRpbmdzL3NldHRpbmdzRGF0YS50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2hlbHBlci50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9hci50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9jei50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9kYS50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9kZS50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9lbi50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9lbi1nYi50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9lcy50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9mci50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9oaS50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9pZC50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9pdC50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9qYS50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9rby50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9ubC50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9uby50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9wbC50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9wdC50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9wdC1ici50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9yby50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9ydS50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS90ci50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS96aC1jbi50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS96aC10dy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgZGVib3VuY2UsIFBsYXRmb3JtLCByZXF1aXJlQXBpVmVyc2lvbiwgTWFya2Rvd25WaWV3LCBQbHVnaW4sIEhlYWRpbmdDYWNoZSwgQXBwIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IGNyZWF0VG9jLCBjcmVhdGVMaSwgcmVuZGVySGVhZGVyIH0gZnJvbSBcInNyYy9jb21wb25lbnRzL2Zsb2F0aW5ndG9jVUlcIlxyXG5pbXBvcnQgeyBGbG90aW5nVE9DU2V0dGluZ1RhYiB9IGZyb20gXCJzcmMvc2V0dGluZ3Mvc2V0dGluZ3NUYWJcIjtcclxuaW1wb3J0IHsgRmxvdGluZ1RPQ1NldHRpbmcsIERFRkFVTFRfU0VUVElOR1MgfSBmcm9tIFwic3JjL3NldHRpbmdzL3NldHRpbmdzRGF0YVwiO1xyXG5cclxuXHJcbmxldCBhY3RpdmVEb2N1bWVudDogRG9jdW1lbnQ7XHJcbmxldCBsaW5lID0gMDtcclxuZXhwb3J0IGZ1bmN0aW9uIHNlbGZEZXN0cnVjdCgpIHtcclxuXHRyZXF1aXJlQXBpVmVyc2lvbihcIjAuMTUuMFwiKSA/IGFjdGl2ZURvY3VtZW50ID0gYWN0aXZlV2luZG93LmRvY3VtZW50IDogYWN0aXZlRG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XHJcblx0bGV0IGZsb2F0X3RvY19kb20gPSBhY3RpdmVEb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG5cdFx0XCIuZmxvYXRpbmctdG9jLWRpdlwiXHJcblx0KTtcclxuXHRmbG9hdF90b2NfZG9tLmZvckVhY2goZWxlbWVudCA9PiB7XHJcblx0XHRpZiAoZWxlbWVudCkge1xyXG5cdFx0XHRlbGVtZW50LnJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHR9KTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWZyZXNoX25vZGUodmlldzogTWFya2Rvd25WaWV3KSB7XHJcblx0cmVxdWlyZUFwaVZlcnNpb24oXCIwLjE1LjBcIikgPyBhY3RpdmVEb2N1bWVudCA9IGFjdGl2ZVdpbmRvdy5kb2N1bWVudCA6IGFjdGl2ZURvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xyXG5cdC8vbGV0IGN1cnJlbnRsZWFmID0gYWN0aXZlRG9jdW1lbnQ/LnF1ZXJ5U2VsZWN0b3IoXCIud29ya3NwYWNlLWxlYWYubW9kLWFjdGl2ZVwiKTtcclxuXHQvL2xldCB2aWV3PXBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KVxyXG5cdGxldCBmbG9hdF90b2NfZG9tID0gdmlldy5jb250ZW50RWw/LnF1ZXJ5U2VsZWN0b3IoXCIuZmxvYXRpbmctdG9jLWRpdlwiKTtcclxuXHQvL2NvbnNvbGUubG9nKGZsb2F0X3RvY19kb20sXCJmbG9hdF90b2NfZG9tXCIpXHJcblx0aWYgKGZsb2F0X3RvY19kb20pIHtcclxuXHRcdGxldCB1bF9kb20gPSBmbG9hdF90b2NfZG9tLnF1ZXJ5U2VsZWN0b3IoXCJ1bC5mbG9hdGluZy10b2NcIikgYXMgSFRNTEVsZW1lbnRcclxuXHRcdGlmICghdWxfZG9tKVxyXG5cdFx0XHR1bF9kb20gPSBmbG9hdF90b2NfZG9tLmNyZWF0ZUVsKFwidWxcIiksIHVsX2RvbS5hZGRDbGFzcyhcImZsb2F0aW5nLXRvY1wiKVxyXG5cdFx0bGV0IGxpX2RvbSA9IGZsb2F0X3RvY19kb20/LnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaS5oZWFkaW5nLWxpc3QtaXRlbVwiKVxyXG5cdFx0bGV0IGhlYWRpbmdkYXRhID0gZ2xvYmFsVGhpcy5oZWFkaW5nZGF0YVxyXG5cdFx0Ly9jb25zb2xlLmxvZyhoZWFkaW5nZGF0YSxcImhlYWRpbmdkYXRhXCIpXHJcblx0XHRpZiAoaGVhZGluZ2RhdGEpIHtcclxuXHRcdFx0Ly9cdGNvbnNvbGUubG9nKFwicmVmcmVzaF9ub2RlXCIpXHJcblx0XHRcdGlmIChsaV9kb20ubGVuZ3RoID49IGhlYWRpbmdkYXRhLmxlbmd0aCkge1xyXG5cdFx0XHRcdGxpX2RvbT8uZm9yRWFjaCgoZWwsIGkpID0+IHtcclxuXHRcdFx0XHRcdGlmIChoZWFkaW5nZGF0YVtpXSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoKGhlYWRpbmdkYXRhW2ldLmxldmVsID09IGVsLmdldEF0dHJpYnV0ZShcImRhdGEtbGV2ZWxcIikpXHJcblx0XHRcdFx0XHRcdFx0JiYgKGhlYWRpbmdkYXRhW2ldLmhlYWRpbmcgPT0gKGVsLmNoaWxkcmVuWzBdIGFzIEhUTUxFbGVtZW50KS5pbm5lclRleHQpXHJcblx0XHRcdFx0XHRcdFx0JiYgKGhlYWRpbmdkYXRhW2ldLnBvc2l0aW9uLnN0YXJ0LmxpbmUgPT0gZWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1saW5lXCIpKSkgLy9cdTdFQTdcdTUyMkJcdUZGMENcdTUxODVcdTVCQjlcdTg4NENcdTUzRjdcdTVCOENcdTUxNjhcdTRFMDBcdTgxRjRcdTVDMzFcdTRFMERcdTk3MDBcdTg5ODFcdTY2RjRcdTY1QjBcdTMwMDJcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZWwuc2V0QXR0cmlidXRlKFwiZGF0YS1sZXZlbFwiLCBoZWFkaW5nZGF0YVtpXS5sZXZlbC50b1N0cmluZygpKTtcclxuXHRcdFx0XHRcdFx0XHRlbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsIGkudG9TdHJpbmcoKSk7XHJcblx0XHRcdFx0XHRcdFx0ZWwuc2V0QXR0cmlidXRlKFwiZGF0YS1saW5lXCIsIGhlYWRpbmdkYXRhW2ldLnBvc2l0aW9uLnN0YXJ0LmxpbmUudG9TdHJpbmcoKSk7XHJcblx0XHRcdFx0XHRcdFx0ZWwuY2hpbGRyZW5bMF0ucXVlcnlTZWxlY3RvcihcImFcIik/LnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdHJlbmRlckhlYWRlcih2aWV3LCBoZWFkaW5nZGF0YVtpXS5oZWFkaW5nLCBlbC5jaGlsZHJlblswXSBhcyBIVE1MRWxlbWVudCwgdmlldy5maWxlLnBhdGgsIG51bGwpXHJcblx0XHRcdFx0XHRcdFx0Ly8oZWwuY2hpbGRyZW5bMF0gYXMgSFRNTEVsZW1lbnQpLmlubmVySFRNTCA9ICc8YSBjbGFzcz1cInRleHRcIj4nICsgaGVhZGluZ2RhdGFbaV0uaGVhZGluZyArICc8L2E+J1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRlbC5yZW1vdmUoKVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aGVhZGluZ2RhdGE/LmZvckVhY2goKGVsOiBIZWFkaW5nQ2FjaGUsIGk6IG51bWJlcikgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGkgPD0gKGxpX2RvbS5sZW5ndGggLSAxKSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoKGVsLmxldmVsLnRvU3RyaW5nKCkgPT0gbGlfZG9tW2ldLmdldEF0dHJpYnV0ZShcImRhdGEtbGV2ZWxcIikpXHJcblx0XHRcdFx0XHRcdFx0JiYgKGVsLmhlYWRpbmcgPT0gKGxpX2RvbVtpXS5jaGlsZHJlblswXSBhcyBIVE1MRWxlbWVudCkuaW5uZXJUZXh0KVxyXG5cdFx0XHRcdFx0XHRcdCYmIChlbC5wb3NpdGlvbi5zdGFydC5saW5lLnRvU3RyaW5nKCkgPT0gbGlfZG9tW2ldLmdldEF0dHJpYnV0ZShcImRhdGEtbGluZVwiKSkpIC8vXHU3RUE3XHU1MjJCXHVGRjBDXHU1MTg1XHU1QkI5XHU4ODRDXHU1M0Y3XHU1QjhDXHU1MTY4XHU0RTAwXHU4MUY0XHU1QzMxXHU0RTBEXHU5NzAwXHU4OTgxXHU2NkY0XHU2NUIwXHUzMDAyXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGxpX2RvbVtpXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWxldmVsXCIsIGVsLmxldmVsLnRvU3RyaW5nKCkpO1xyXG5cdFx0XHRcdFx0XHRcdGxpX2RvbVtpXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsIGkudG9TdHJpbmcoKSk7XHJcblx0XHRcdFx0XHRcdFx0bGlfZG9tW2ldLnNldEF0dHJpYnV0ZShcImRhdGEtbGluZVwiLCBlbC5wb3NpdGlvbi5zdGFydC5saW5lLnRvU3RyaW5nKCkpO1xyXG5cdFx0XHRcdFx0XHRcdC8vKGxpX2RvbVtpXS5jaGlsZHJlblswXSBhcyBIVE1MRWxlbWVudCkuaW5uZXJIVE1MID0gJzxhIGNsYXNzPVwidGV4dFwiPicgKyBlbC5oZWFkaW5nICsgJzwvYT4nXHJcblx0XHRcdFx0XHRcdFx0bGlfZG9tW2ldLmNoaWxkcmVuWzBdLnF1ZXJ5U2VsZWN0b3IoXCJhXCIpPy5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdFx0XHRyZW5kZXJIZWFkZXIodmlldywgZWwuaGVhZGluZywgbGlfZG9tW2ldLmNoaWxkcmVuWzBdIGFzIEhUTUxFbGVtZW50LCB2aWV3LmZpbGUucGF0aCwgbnVsbClcclxuXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0XHRjcmVhdGVMaSh2aWV3LCB1bF9kb20sIGVsLCBpKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dWxfZG9tLnJlbW92ZSgpO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdH0gZWxzZVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxufVxyXG5mdW5jdGlvbiBzaWJsaW5nRWxlbXMoZWxlbTogRWxlbWVudCkge1xyXG5cdHZhciBub2RlcyA9IFtdO1xyXG5cdHdoaWxlICgoZWxlbSA9IGVsZW0ucHJldmlvdXNFbGVtZW50U2libGluZykpIHtcclxuXHRcdGlmIChlbGVtLm5vZGVUeXBlID09IDEpIHtcclxuXHRcdFx0bm9kZXMucHVzaChlbGVtKTtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG5vZGVzO1xyXG59XHJcbmZ1bmN0aW9uIF9oYW5kbGVTY3JvbGwoZXZ0OiBFdmVudCkge1xyXG5cdGxldCB0YXJnZXQgPSBldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50XHJcblx0aWYgKHRhcmdldC5wYXJlbnRFbGVtZW50Py5jbGFzc0xpc3QuY29udGFpbnMoXCJjbS1lZGl0b3JcIikgfHwgdGFyZ2V0LnBhcmVudEVsZW1lbnQ/LmNsYXNzTGlzdC5jb250YWlucyhcIm1hcmtkb3duLXJlYWRpbmctdmlld1wiKSkge1xyXG5cdFx0Y29uc3QgdmlldyA9IGFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpXHJcblx0XHRsZXQgY3VycmVudF9saW5lXHJcblx0XHRsZXQgY3VycmVudF9oZWFkaW5nID0ge307XHJcblx0XHRpZiAodmlldykge1xyXG5cdFx0XHRjdXJyZW50X2xpbmUgPSB2aWV3LmN1cnJlbnRNb2RlLmdldFNjcm9sbCgpID8/IDBcclxuXHRcdFx0LyogXHRsZXQgZmxvYXRfdG9jX2RvbSA9IHZpZXcuY29udGVudEVsPy5xdWVyeVNlbGVjdG9yKFwiLmZsb2F0aW5nLXRvYy1kaXZcIik7XHJcblx0XHRcdFx0bGV0IGxpX2RvbSA9IGZsb2F0X3RvY19kb20/LnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaS5oZWFkaW5nLWxpc3QtaXRlbVwiKVxyXG5cdFx0XHRcdGxldCBoZWFkbGluZSA9IFtdO1xyXG5cdFx0XHRcdGxpX2RvbT8uZm9yRWFjaCgoZWwsIGkpID0+IHtcclxuXHRcdFx0XHRcdGhlYWRsaW5lLnB1c2gobGlfZG9tW2ldLmdldEF0dHJpYnV0ZShcImRhdGEtbGluZVwiKSlcclxuXHRcdFx0XHR9KSAqL1xyXG5cclxuXHRcdFx0Ly9cdGNvbnNvbGUubG9nKGN1cnJlbnRfbGluZSwgXCJjdXJyZW50X2xpbmVcIilcclxuXHRcdFx0bGV0IGhlYWRpbmdzID0gZ2xvYmFsVGhpcy5oZWFkaW5nZGF0YVxyXG5cdFx0XHRsZXQgaSA9IGhlYWRpbmdzPy5sZW5ndGggPz8gMFxyXG5cdFx0XHRsZXQgZmxvYXR0b2MgPSB2aWV3LmNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKFwiLmZsb2F0aW5nLXRvY1wiKVxyXG5cdFx0XHRpZiAoZmxvYXR0b2MpIHtcclxuXHRcdFx0XHRsZXQgZmlyc3RsaW5lID0gcGFyc2VJbnQoZmxvYXR0b2MucXVlcnlTZWxlY3RvcihcImxpLmhlYWRpbmctbGlzdC1pdGVtXCIpPy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWxpbmVcIikpXHJcblx0XHRcdFx0bGV0IGxhc3RsaW5lID0gcGFyc2VJbnQoZmxvYXR0b2MubGFzdEVsZW1lbnRDaGlsZD8uZ2V0QXR0cmlidXRlKFwiZGF0YS1saW5lXCIpKVxyXG5cdFx0XHRcdC8vXHU2RURBXHU1MkE4XHU1MjMwXHU5ODc2XHU5MEU4XHVGRjBDXHU2MzA3XHU3OTNBXHU1NjY4XHU1QjlBXHU0RjREXHU1MjMwXHU5ODc2XHU5MEU4XHJcblx0XHRcdFx0aWYgKGN1cnJlbnRfbGluZSA8PSAwKSB7XHJcblx0XHRcdFx0XHRsZXQgcHJldkxvY2F0aW9uID0gZmxvYXR0b2MucXVlcnlTZWxlY3RvcihcIi5oZWFkaW5nLWxpc3QtaXRlbS5sb2NhdGVkXCIpXHJcblx0XHRcdFx0XHRpZiAocHJldkxvY2F0aW9uKSB7XHJcblx0XHRcdFx0XHRcdHByZXZMb2NhdGlvbi5yZW1vdmVDbGFzcyhcImxvY2F0ZWRcIilcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRsZXQgY3VyTG9jYXRpb24gPSBmbG9hdHRvYz8ucXVlcnlTZWxlY3RvcihgbGlbZGF0YS1saW5lPScke2ZpcnN0bGluZX0nXWApXHJcblx0XHRcdFx0XHRpZiAoY3VyTG9jYXRpb24pIGN1ckxvY2F0aW9uLmFkZENsYXNzKFwibG9jYXRlZFwiKTtcclxuXHJcblxyXG5cdFx0XHRcdFx0bGV0IGxldmVsID0gcGFyc2VJbnQoY3VyTG9jYXRpb24uZ2V0QXR0cmlidXRlKFwiZGF0YS1sZXZlbFwiKSlcclxuXHRcdFx0XHRcdGxldmVsID0gbGV2ZWwgPiAxID8gbGV2ZWwgLSAxIDogMTtcclxuXHRcdFx0XHRcdGxldCBzaWJsaW5ncyA9IHNpYmxpbmdFbGVtcyhjdXJMb2NhdGlvbik7XHJcblx0XHRcdFx0XHRsZXQgZm9jdXNlbGUgPSBmbG9hdHRvYz8ucXVlcnlTZWxlY3RvcihgbGkuZm9jdXNgKVxyXG5cdFx0XHRcdFx0aWYgKGZvY3VzZWxlKSB7XHJcblx0XHRcdFx0XHRcdGZvY3VzZWxlLnJlbW92ZUNsYXNzKFwiZm9jdXNcIilcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHNpYmxpbmdzLnNvbWUoZWxlbWVudCA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICgoZWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50KS5kYXRhc2V0WydsZXZlbCddIDw9IGxldmVsLnRvU3RyaW5nKCkpIFxyXG5cdFx0XHRcdFx0XHR7IGVsZW1lbnQuYWRkQ2xhc3MoJ2ZvY3VzJyk7IHJldHVybiB0cnVlfVxyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRsZXQgTG9jYXRpb24gPSBmbG9hdHRvYy5xdWVyeVNlbGVjdG9yKFwiLmhlYWRpbmctbGlzdC1pdGVtXCIpXHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IExvY2F0aW9uLnNjcm9sbEludG9WaWV3SWZOZWVkZWQoKSwgMzAwKVxyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHR3aGlsZSAoLS1pID49IDApIHtcclxuXHRcdFx0XHRcdFx0aWYgKGhlYWRpbmdzW2ldLnBvc2l0aW9uLnN0YXJ0LmxpbmUgPD0gY3VycmVudF9saW5lKSB7XHJcblx0XHRcdFx0XHRcdFx0Y3VycmVudF9oZWFkaW5nID0gaGVhZGluZ3NbaV1cclxuXHRcdFx0XHRcdFx0XHQvL1x0Y29uc29sZS5sb2coY3VycmVudF9oZWFkaW5nKVxyXG5cdFx0XHRcdFx0XHRcdGxpbmUgPSBoZWFkaW5nc1tpXS5wb3NpdGlvbi5zdGFydC5saW5lXHJcblx0XHRcdFx0XHRcdFx0YnJlYWtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKCFjdXJyZW50X2hlYWRpbmcpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly9sZXQgY29udGFpbmVyID0gYWN0aXZlRG9jdW1lbnQ/LnF1ZXJ5U2VsZWN0b3IoXCIud29ya3NwYWNlLWxlYWYubW9kLWFjdGl2ZVwiKTtcclxuXHJcblx0XHRcdFx0XHRsZXQgcHJldkxvY2F0aW9uID0gZmxvYXR0b2MucXVlcnlTZWxlY3RvcihcIi5oZWFkaW5nLWxpc3QtaXRlbS5sb2NhdGVkXCIpXHJcblx0XHRcdFx0XHRpZiAocHJldkxvY2F0aW9uKSB7XHJcblx0XHRcdFx0XHRcdHByZXZMb2NhdGlvbi5yZW1vdmVDbGFzcyhcImxvY2F0ZWRcIilcclxuXHRcdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRcdFx0aWYgKCFsaW5lICYmIGZsb2F0dG9jKSBsaW5lID0gZmlyc3RsaW5lXHJcblx0XHRcdFx0XHQvL1x0Y29uc29sZS5sb2cobGluZSlcclxuXHRcdFx0XHRcdGxldCBjdXJMb2NhdGlvbiA9IGZsb2F0dG9jPy5xdWVyeVNlbGVjdG9yKGBsaVtkYXRhLWxpbmU9JyR7bGluZX0nXWApXHJcblxyXG5cdFx0XHRcdFx0aWYgKGN1ckxvY2F0aW9uKSB7XHJcblx0XHRcdFx0XHRcdGlmIChsaW5lID09IGxhc3RsaW5lIHx8IGxpbmUgPT0gZmlyc3RsaW5lKSB7XHJcblx0XHRcdFx0XHRcdFx0Y3VyTG9jYXRpb24uYWRkQ2xhc3MoXCJsb2NhdGVkXCIpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdFx0XHRpZiAoY3VyTG9jYXRpb24ubmV4dEVsZW1lbnRTaWJsaW5nKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRjdXJMb2NhdGlvbi5uZXh0RWxlbWVudFNpYmxpbmcuYWRkQ2xhc3MoXCJsb2NhdGVkXCIpO1xyXG5cdFx0XHRcdFx0XHRcdFx0bGV0IGxldmVsID0gcGFyc2VJbnQoY3VyTG9jYXRpb24ubmV4dEVsZW1lbnRTaWJsaW5nLmdldEF0dHJpYnV0ZShcImRhdGEtbGV2ZWxcIikpXHJcblx0XHRcdFx0XHRcdFx0XHRsZXZlbCA9IGxldmVsID4gMSA/IGxldmVsIC0gMSA6IDE7XHJcblx0XHRcdFx0XHRcdFx0XHRsZXQgc2libGluZ3MgPSBzaWJsaW5nRWxlbXMoY3VyTG9jYXRpb24ubmV4dEVsZW1lbnRTaWJsaW5nKTtcclxuXHRcdFx0XHRcdFx0XHRcdGxldCBmb2N1c2VsZSA9IGZsb2F0dG9jPy5xdWVyeVNlbGVjdG9yKGBsaS5mb2N1c2ApXHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoZm9jdXNlbGUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Zm9jdXNlbGUucmVtb3ZlQ2xhc3MoXCJmb2N1c1wiKVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0c2libGluZ3Muc29tZShlbGVtZW50ID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKChlbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmRhdGFzZXRbJ2xldmVsJ10gPD0gbGV2ZWwudG9TdHJpbmcoKSkgXHJcblx0XHRcdFx0XHRcdFx0XHRcdHsgZWxlbWVudC5hZGRDbGFzcygnZm9jdXMnKTsgcmV0dXJuIHRydWV9XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHQvL2N1ckxvY2F0aW9uLnNjcm9sbEludG9WaWV3KHsgYmxvY2s6IFwiY2VudGVyXCIgfSlcclxuXHRcdFx0XHRcdFx0Y3VyTG9jYXRpb24uc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5jb25zdCBoYW5kbGVTY3JvbGwgPSBkZWJvdW5jZShfaGFuZGxlU2Nyb2xsLCAyMDApXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsb2F0aW5nVG9jIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzZXR0aW5nczogYW55O1xyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdHJlcXVpcmVBcGlWZXJzaW9uKFwiMC4xNS4wXCIpID8gYWN0aXZlRG9jdW1lbnQgPSBhY3RpdmVXaW5kb3cuZG9jdW1lbnQgOiBhY3RpdmVEb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblx0XHRjb25zdCB1cGRhdGVIZWFkaW5nc0ZvclZpZXcgPSAodmlldzogTWFya2Rvd25WaWV3KSA9PiB7XHJcblx0XHRcdHZpZXcgPyByZWZyZXNoX25vZGUodmlldykgPyBmYWxzZSA6IGNyZWF0VG9jKGFwcCwgdGhpcykgOiBmYWxzZVxyXG5cclxuXHRcdH07XHJcblx0XHRsZXQgaXNMb2FkT25Nb2JpbGUgPSB0aGlzLnNldHRpbmdzLmlzTG9hZE9uTW9iaWxlXHJcblx0XHRpZiAoUGxhdGZvcm0uaXNNb2JpbGVBcHAgJiYgaXNMb2FkT25Nb2JpbGUpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coYGZsb2F0aW5nIHRvYyBkaXNhYmxlIGxvYWRpbmcgb24gbW9iaWxlYCk7XHJcblx0XHRcdHJldHVybjtcclxuXHJcblx0XHR9XHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogXCJwaW4tdG9jLXBhbmVsXCIsXHJcblx0XHRcdG5hbWU6IFwiUGlubmluZyB0aGUgRmxvYXRpbmcgVE9DIHBhbmVsXCIsXHJcblx0XHRcdGljb246IFwicGluXCIsXHJcblx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0bGV0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpXHJcblx0XHRcdFx0aWYgKHZpZXcpIHtcclxuXHRcdFx0XHRcdGxldCBmbG9hdGluZ1RvY1dyYXBwZXIgPSB2aWV3LmNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKFwiLmZsb2F0aW5nLXRvYy1kaXZcIilcclxuXHRcdFx0XHRcdGlmIChmbG9hdGluZ1RvY1dyYXBwZXIpIHtcclxuXHRcdFx0XHRcdFx0aWYgKGZsb2F0aW5nVG9jV3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnMoXCJwaW5cIikpXHJcblx0XHRcdFx0XHRcdFx0ZmxvYXRpbmdUb2NXcmFwcGVyLnJlbW92ZUNsYXNzKFwicGluXCIpXHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRmbG9hdGluZ1RvY1dyYXBwZXIuYWRkQ2xhc3MoXCJwaW5cIik7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdH0pO1xyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJhY3RpdmUtbGVhZi1jaGFuZ2VcIiwgKCkgPT4ge1xyXG5cdFx0XHRcdGxldCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KVxyXG5cdFx0XHRcdGlmICh2aWV3KSB7XHJcblx0XHRcdFx0XHRjb25zdCBjdXJyZW50X2ZpbGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpXHJcblx0XHRcdFx0XHRsZXQgaGVhZGluZyA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGN1cnJlbnRfZmlsZSkuaGVhZGluZ3NcclxuXHRcdFx0XHRcdGdsb2JhbFRoaXMuaGVhZGluZ2RhdGEgPSBoZWFkaW5nXHJcblx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5pZ25vcmVUb3BIZWFkZXIpXHJcblx0XHRcdFx0XHRcdGdsb2JhbFRoaXMuaGVhZGluZ2RhdGEgPSBoZWFkaW5nLnNsaWNlKDEpO1xyXG5cdFx0XHRcdFx0Ly9cdFx0Y29uc29sZS5sb2coXCJyZWZyZXNoXCIpXHJcblx0XHRcdFx0XHRyZWZyZXNoKHZpZXcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQpXHJcblx0XHQpO1xyXG5cdFx0LyogXHRcdHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJmaWxlLW9wZW5cIiwgKGZpbGUpID0+IHtcclxuXHRcdFx0XHRcdGxldCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KVxyXG5cdFx0XHRcdFx0aWYgKHZpZXcpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgY3VycmVudF9maWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKVxyXG5cdFx0XHRcdFx0XHRsZXQgaGVhZGluZyA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGN1cnJlbnRfZmlsZSkuaGVhZGluZ3NcclxuXHRcdFx0XHRcdFx0Z2xvYmFsVGhpcy5oZWFkaW5nZGF0YSA9IGhlYWRpbmdcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJyZWZyZXNoXCIpXHJcblx0XHRcdFx0XHRcdHJlZnJlc2godmlldyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdClcclxuXHRcdFx0XHQpOyAqL1xyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUub24oJ2NoYW5nZWQnLCAoKSA9PiB7XHJcblx0XHRcdGxldCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KVxyXG5cdFx0XHRpZiAodmlldykge1xyXG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRfZmlsZSA9IHZpZXcuZmlsZVxyXG5cclxuXHRcdFx0XHRsZXQgaGVhZGluZyA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGN1cnJlbnRfZmlsZSkuaGVhZGluZ3NcclxuXHRcdFx0XHRsZXQgbmV3aGVhZGluZyA9IGhlYWRpbmc/Lm1hcChpdGVtID0+IHtcclxuXHRcdFx0XHRcdHJldHVybiBpdGVtLmxldmVsICsgaXRlbS5oZWFkaW5nICsgaXRlbS5wb3NpdGlvbi5zdGFydC5saW5lXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHRsZXQgbmV3aGVhZGluZ2RhdGEgPSBnbG9iYWxUaGlzLmhlYWRpbmdkYXRhPy5tYXAoKGl0ZW06IEhlYWRpbmdDYWNoZSkgPT4ge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGl0ZW0ubGV2ZWwgKyBpdGVtLmhlYWRpbmcgKyBpdGVtLnBvc2l0aW9uLnN0YXJ0LmxpbmVcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdGlmIChKU09OLnN0cmluZ2lmeShuZXdoZWFkaW5nZGF0YSkgPT0gSlNPTi5zdHJpbmdpZnkobmV3aGVhZGluZykpXHJcblx0XHRcdFx0XHRyZXR1cm4gIC8vXHU2ODA3XHU5ODk4XHU3RUQzXHU2Nzg0XHU4ODRDXHU1M0Y3XHU2Q0ExXHU2NzA5XHU1M0Q4XHU1MzE2XHU0RTBEXHU2NkY0XHU2NUIwXHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHQvL1x0Y29uc29sZS5sb2coXCJyZWZyZXNoXCIpXHJcblx0XHRcdFx0XHRnbG9iYWxUaGlzLmhlYWRpbmdkYXRhID0gaGVhZGluZ1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuaWdub3JlVG9wSGVhZGVyKVxyXG5cdFx0XHRcdFx0XHRnbG9iYWxUaGlzLmhlYWRpbmdkYXRhID0gaGVhZGluZy5zbGljZSgxKTtcclxuXHRcdFx0XHRcdHJlZnJlc2godmlldylcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHR9KSlcclxuXHJcblx0XHRjb25zdCByZWZyZXNoX291dGxpbmUgPSAodmlldzogTWFya2Rvd25WaWV3KTogYW55ID0+IHtcclxuXHRcdFx0dXBkYXRlSGVhZGluZ3NGb3JWaWV3KHZpZXcpXHJcblx0XHR9XHJcblx0XHRjb25zdCByZWZyZXNoID0gKHZpZXc6IE1hcmtkb3duVmlldykgPT4gZGVib3VuY2UocmVmcmVzaF9vdXRsaW5lKHZpZXcpLCAzMDAsIHRydWUpXHJcblx0XHQvKiBcdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwiZWRpdG9yLWNoYW5nZVwiLCAoZWRpdG9yKSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGFjdGl2ZVZpZXcgPVxyXG5cdFx0XHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XHJcblx0XHRcdFx0XHRcdGlmIChhY3RpdmVWaWV3KSB7XHJcblx0XHRcdFx0XHRcdFx0bGV0IHJlc29sdmVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5hcHAubWV0YWRhdGFDYWNoZS5vbihcInJlc29sdmVcIiwgKGZpbGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGFjdGl2ZVZpZXcuZmlsZSA9PT0gZmlsZSAmJiAhcmVzb2x2ZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dXBkYXRlSGVhZGluZ3NGb3JWaWV3KCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpOyAqL1xyXG5cclxuXHJcblx0XHRhY3RpdmVEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNjcm9sbCwgdHJ1ZSlcclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgRmxvdGluZ1RPQ1NldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuXHJcblx0XHR1cGRhdGVIZWFkaW5nc0ZvclZpZXcodGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KSk7XHJcblx0XHRpZiAocmVxdWlyZUFwaVZlcnNpb24oXCIwLjE1LjBcIikpIHtcclxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKCd3aW5kb3ctb3BlbicsIChsZWFmKSA9PiB7XHJcblx0XHRcdFx0bGVhZi5kb2MuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwsIHRydWUpXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0YXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KCgpID0+IHtcclxuXHRcdFx0YXBwLndvcmtzcGFjZS50cmlnZ2VyKFwicGFyc2Utc3R5bGUtc2V0dGluZ3NcIik7XHJcblx0XHR9KTtcclxuXHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHtcclxuXHRcdHJlcXVpcmVBcGlWZXJzaW9uKFwiMC4xNS4wXCIpID8gYWN0aXZlRG9jdW1lbnQgPSBhY3RpdmVXaW5kb3cuZG9jdW1lbnQgOiBhY3RpdmVEb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcclxuXHRcdGFjdGl2ZURvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2Nyb2xsLCB0cnVlKVxyXG5cdFx0c2VsZkRlc3RydWN0KCk7XHJcblx0fVxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuXHR9XHJcbn1cclxuIiwgIlxyXG5pbXBvcnQgdHlwZSBGbG9hdGluZ1RvYyBmcm9tIFwic3JjL21haW5cIjtcclxuaW1wb3J0IHsgQXBwLCByZXF1aXJlQXBpVmVyc2lvbiwgTWFya2Rvd25WaWV3LCBDb21wb25lbnQsIEhlYWRpbmdDYWNoZSwgTWFya2Rvd25SZW5kZXJlciwgQnV0dG9uQ29tcG9uZW50LCBWaWV3IH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbmRlckhlYWRlcihcclxuICAgIHZpZXc6IE1hcmtkb3duVmlldyxcclxuICAgIHNvdXJjZTogc3RyaW5nLFxyXG4gICAgY29udGFpbmVyPzogSFRNTEVsZW1lbnQsXHJcbiAgICBub3RlUGF0aD86IHN0cmluZyxcclxuICAgIGNvbXBvbmVudDogQ29tcG9uZW50ID0gbnVsbFxyXG4pIHtcclxuICAgIGNvbnN0IHJlZ2V4ID0gLyg/PD1eXFxzKilbMC05XStcXC5cXHMvOyAvL1x1NjcwOVx1NUU4Rlx1NTIxN1x1ODg2OFxyXG4gICAgY29uc3QgcmVnZXgyID0gLyg/PD1eXFxzKilbXFwtXFwrXVxccy87IC8vXHU2NUUwXHU1RThGXHU1MjE3XHU4ODY4ICBcclxuICAgIGxldCBtO1xyXG4gICAgbGV0IHByZWxpc3QgPSAnJztcclxuICAgIGlmICgobSA9IHJlZ2V4LmV4ZWMoc291cmNlKSkgIT09IG51bGwpIHtcclxuICAgICAgICBwcmVsaXN0ID0gbVswXVxyXG4gICAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKHJlZ2V4LCAnJyk7XHJcbiAgICB9IGVsc2UgaWYgKChtID0gcmVnZXgyLmV4ZWMoc291cmNlKSkgIT09IG51bGwpIHtcclxuICAgICAgICBwcmVsaXN0ID0gbVswXVxyXG4gICAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKHJlZ2V4MiwgJycpO1xyXG4gICAgfVxyXG4gICAgbGV0IHN1YmNvbnRhaW5lciA9IGNvbnRhaW5lclxyXG4gICAgYXdhaXQgTWFya2Rvd25SZW5kZXJlci5yZW5kZXJNYXJrZG93bihcclxuICAgICAgICBzb3VyY2UsXHJcbiAgICAgICAgc3ViY29udGFpbmVyLFxyXG4gICAgICAgIG5vdGVQYXRoLFxyXG4gICAgICAgIGNvbXBvbmVudFxyXG4gICAgKTtcclxuICAgIGxldCBhdGFnID0gc3ViY29udGFpbmVyLmNyZWF0ZUVsKFwiYVwiKTtcclxuICAgIGF0YWcuYWRkQ2xhc3MoXCJ0ZXh0XCIpXHJcbiAgICBhdGFnLm9uY2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBsZXQgc3RhcnRsaW5lID0gcGFyc2VJbnQoc3ViY29udGFpbmVyLnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1saW5lXCIpKSA/PyAwXHJcbiAgICAgICAgaWYgKGV2ZW50LmN0cmxLZXkpIHtcclxuICAgICAgICAgICAgZm9sZEhlYWRlcih2aWV3LCBzdGFydGxpbmUpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb3BlbkZpbGV0b2xpbmUodmlldywgc3RhcnRsaW5lKVxyXG4gICAgICAgICAgICBsZXQgcHJldkxvY2F0aW9uID0gc3ViY29udGFpbmVyLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRleHQtd3JhcC5sb2NhdGVkXCIpXHJcbiAgICAgICAgICAgIGlmIChwcmV2TG9jYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHByZXZMb2NhdGlvbi5yZW1vdmVDbGFzcyhcImxvY2F0ZWRcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdWJjb250YWluZXIuYWRkQ2xhc3MoXCJsb2NhdGVkXCIpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGV0IHBhciA9IHN1YmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwicFwiKTtcclxuICAgIGlmIChwYXIpIHtcclxuICAgICAgICBjb25zdCByZWdleCA9IC88YVtePl0qPnw8XFwvW14+XSphPi9nbTsgLy9cdTUyMjBcdTk2NjRcdTYyNDBcdTY3MDlhXHU2ODA3XHU3QjdFXHJcbiAgICAgICAgLy9jb25zdCByZWdleCA9IC8oPzw9XFw+W148XSo/KSAvZzsgLy9cdTUyMjBcdTk2NjRcdTYyNDBcdTY3MDlcdTdBN0FcdTc2N0RcdTdCMjZcclxuICAgICAgICBpZiAocHJlbGlzdCkgXHJcbiAgICAgICAgYXRhZy5pbm5lckhUTUwgPSBwcmVsaXN0ICsgcGFyLmlubmVySFRNTC5yZXBsYWNlKHJlZ2V4LCAnJyk7XHJcbiAgICAgICAgZWxzZSBhdGFnLmlubmVySFRNTCA9IHBhci5pbm5lckhUTUwucmVwbGFjZShyZWdleCwgJycpO1xyXG4gICAgICAgIHN1YmNvbnRhaW5lci5yZW1vdmVDaGlsZChwYXIpO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVMaSh2aWV3OiBNYXJrZG93blZpZXcsIHVsX2RvbTogSFRNTEVsZW1lbnQsIGhlYWRpbmc6IEhlYWRpbmdDYWNoZSwgaW5kZXg6IG51bWJlcikge1xyXG4gICAgbGV0IGxpX2RvbSA9IHVsX2RvbS5jcmVhdGVFbChcImxpXCIpXHJcbiAgICBsaV9kb20uYWRkQ2xhc3MoXCJoZWFkaW5nLWxpc3QtaXRlbVwiKVxyXG4gICAgbGlfZG9tLnNldEF0dHJpYnV0ZShcImRhdGEtbGV2ZWxcIiwgaGVhZGluZy5sZXZlbC50b1N0cmluZygpKVxyXG4gICAgbGlfZG9tLnNldEF0dHJpYnV0ZShcImRhdGEtaWRcIiwgaW5kZXgudG9TdHJpbmcoKSlcclxuICAgIGxpX2RvbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWxpbmVcIiwgaGVhZGluZy5wb3NpdGlvbi5zdGFydC5saW5lLnRvU3RyaW5nKCkpXHJcbiAgICBsZXQgdGV4dF9kb20gPSBsaV9kb20uY3JlYXRlRWwoXCJkaXZcIilcclxuICAgIHRleHRfZG9tLmFkZENsYXNzKFwidGV4dC13cmFwXCIpXHJcblxyXG5cclxuXHJcbiAgICByZW5kZXJIZWFkZXIodmlldywgaGVhZGluZy5oZWFkaW5nLCB0ZXh0X2RvbSwgdmlldy5maWxlLnBhdGgsIG51bGwpXHJcblxyXG4gICAgLy8gdGV4dC5pbm5lckhUTUwgPSBoZWFkaW5nLmhlYWRpbmdcclxuICAgIGxldCBsaW5lX2RvbSA9IGxpX2RvbS5jcmVhdGVFbChcImRpdlwiKVxyXG4gICAgbGluZV9kb20uYWRkQ2xhc3MoXCJsaW5lLXdyYXBcIilcclxuICAgIGxpbmVfZG9tLmNyZWF0ZURpdigpLmFkZENsYXNzKFwibGluZVwiKVxyXG59XHJcblxyXG5jb25zdCBvcGVuRmlsZXRvbGluZSA9ICh2aWV3OiBNYXJrZG93blZpZXcsIGxpbmVOdW1iZXI6IG51bWJlcikgPT4ge1xyXG4gICAgLy9jb25zdCBjdXJyZW50X2ZpbGUgPSBwbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKClcclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhcImxpbmUgbnVtYmVyXCIsIGxpbmVOdW1iZXIpO1xyXG4gICAgLy8gbGV0IGxlYWYgPSBwbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRMZWFmKGZhbHNlKTtcclxuICAgIHZpZXcubGVhZi5vcGVuRmlsZSh2aWV3LmZpbGUsIHtcclxuICAgICAgICBlU3RhdGU6IHsgbGluZTogbGluZU51bWJlciB9LFxyXG4gICAgfSk7XHJcbn07XHJcbmNvbnN0IGZvbGRIZWFkZXIgPSAodmlldzogTWFya2Rvd25WaWV3LCBzdGFydGxpbmU6IG51bWJlcikgPT4ge1xyXG4gICAgLy8gY29uc3QgdmlldyA9IHBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KVxyXG4gICAgY29uc3QgZXhpc3RpbmdGb2xkcyA9IHZpZXc/LmN1cnJlbnRNb2RlLmdldEZvbGRJbmZvKCk/LmZvbGRzID8/IFtdO1xyXG4gICAgY29uc3QgaGVhZGZyb20gPSBzdGFydGxpbmVcclxuICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICBpZiAoZXhpc3RpbmdGb2xkcy5zb21lKChpdGVtLCBpZHgpID0+IHsgaW5kZXggPSBpZHg7IHJldHVybiBpdGVtLmZyb20gPT0gaGVhZGZyb20gfSkpIC8vXHU2ODA3XHU5ODk4XHU1MzlGXHU2NzY1XHU1REYyXHU3RUNGXHU2Mjk4XHU1M0UwXHU3MkI2XHU2MDAxXHJcbiAgICAgICAgZXhpc3RpbmdGb2xkcy5zcGxpY2UoaW5kZXgsIDEpOyAvL1x1NTIyMFx1OTY2NFx1NjI5OFx1NTNFMFx1NzJCNlx1NjAwMVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbGV0IGhlYWRpbmdzQXRMZXZlbCA9IHtcclxuICAgICAgICAgICAgZnJvbTogc3RhcnRsaW5lLFxyXG4gICAgICAgICAgICB0bzogc3RhcnRsaW5lICsgMSxcclxuICAgICAgICB9XHJcbiAgICAgICAgZXhpc3RpbmdGb2xkcy5wdXNoKGhlYWRpbmdzQXRMZXZlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmlldz8uY3VycmVudE1vZGUuYXBwbHlGb2xkSW5mbyh7XHJcbiAgICAgICAgZm9sZHM6IGV4aXN0aW5nRm9sZHMsXHJcbiAgICAgICAgbGluZXM6IHZpZXcuZWRpdG9yLmxpbmVDb3VudCgpLFxyXG4gICAgfSk7XHJcbiAgICB2aWV3Py5vbk1hcmtkb3duRm9sZCgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRUb2MoXHJcbiAgICBhcHA6IEFwcCxcclxuICAgIHBsdWdpbjogRmxvYXRpbmdUb2NcclxuKTogdm9pZCB7XHJcblxyXG4gICAgY29uc3QgZ2VuVG9jID0gKGN1cnJlbnRsZWFmOiBIVE1MRWxlbWVudCwgZmxvYXRpbmdUb2NXcmFwcGVyOiBIVE1MRGl2RWxlbWVudCkgPT4ge1xyXG5cclxuICAgICAgICBpZiAocGx1Z2luLnNldHRpbmdzLnBvc2l0aW9uU3R5bGUgPT0gXCJyaWdodFwiKVxyXG4gICAgICAgICAgICBmbG9hdGluZ1RvY1dyYXBwZXIuYWRkQ2xhc3MoXCJmbG9hdGluZy1yaWdodFwiKSwgZmxvYXRpbmdUb2NXcmFwcGVyLnJlbW92ZUNsYXNzKFwiZmxvYXRpbmctbGVmdFwiKVxyXG4gICAgICAgIGVsc2UgaWYgKHBsdWdpbi5zZXR0aW5ncy5wb3NpdGlvblN0eWxlID09IFwibGVmdFwiKVxyXG4gICAgICAgICAgICBmbG9hdGluZ1RvY1dyYXBwZXIuYWRkQ2xhc3MoXCJmbG9hdGluZy1sZWZ0XCIpLCBmbG9hdGluZ1RvY1dyYXBwZXIucmVtb3ZlQ2xhc3MoXCJmbG9hdGluZy1yaWd0aFwiKVxyXG4gICAgICAgIGlmIChwbHVnaW4uc2V0dGluZ3MuaXNMZWZ0KVxyXG4gICAgICAgICAgICBmbG9hdGluZ1RvY1dyYXBwZXIucmVtb3ZlQ2xhc3MoXCJhbGlnbkxlZnRcIiksIGZsb2F0aW5nVG9jV3JhcHBlci5hZGRDbGFzcyhcImFsaWduTGVmdFwiKVxyXG4gICAgICAgIGVsc2UgZmxvYXRpbmdUb2NXcmFwcGVyLnJlbW92ZUNsYXNzKFwiYWxpZ25MZWZ0XCIpXHJcbiAgICAgICAgbGV0IHVsX2RvbSA9IGZsb2F0aW5nVG9jV3JhcHBlci5jcmVhdGVFbChcInVsXCIpXHJcbiAgICAgICAgdWxfZG9tLmFkZENsYXNzKFwiZmxvYXRpbmctdG9jXCIpXHJcbiAgICAgICAgbGV0IHRvb2xiYXIgPSB1bF9kb20uY3JlYXRlRWwoXCJkaXZcIilcclxuICAgICAgICB0b29sYmFyLmFkZENsYXNzKFwidG9vbGJhclwiKVxyXG4gICAgICAgIHRvb2xiYXIuYWRkQ2xhc3MoXCJwaW5cIilcclxuICAgICAgICB0b29sYmFyLmFkZENsYXNzKFwiaGlkZVwiKVxyXG4gICAgICAgIGxldCBwaW5CdXR0b24gPSBuZXcgQnV0dG9uQ29tcG9uZW50KHRvb2xiYXIpO1xyXG4gICAgICAgIHBpbkJ1dHRvblxyXG4gICAgICAgICAgICAuc2V0SWNvbihcInBpblwiKVxyXG4gICAgICAgICAgICAuc2V0VG9vbHRpcChcInBpblwiKVxyXG4gICAgICAgICAgICAub25DbGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmxvYXRpbmdUb2NXcmFwcGVyLmNsYXNzTGlzdC5jb250YWlucyhcInBpblwiKSlcclxuICAgICAgICAgICAgICAgICAgICBmbG9hdGluZ1RvY1dyYXBwZXIucmVtb3ZlQ2xhc3MoXCJwaW5cIilcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBmbG9hdGluZ1RvY1dyYXBwZXIuYWRkQ2xhc3MoXCJwaW5cIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHVsX2RvbS5vbm1vdXNlZW50ZXIgPSBmdW5jdGlvbiAoKSB7IC8vXHU3OUZCXHU1MTY1XHU0RThCXHU0RUY2XHJcbiAgICAgICAgICAgIHRvb2xiYXIucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpXHJcbiAgICAgICAgICAgIGZsb2F0aW5nVG9jV3JhcHBlci5hZGRDbGFzcyhcImhvdmVyXCIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVsX2RvbS5vbm1vdXNlbGVhdmUgPSBmdW5jdGlvbiAoKSB7IC8vXHU3OUZCXHU1MUZBXHU0RThCXHU0RUY2XHJcbiAgICAgICAgICAgIHRvb2xiYXIuYWRkQ2xhc3MoXCJoaWRlXCIpXHJcbiAgICAgICAgICAgIGZsb2F0aW5nVG9jV3JhcHBlci5yZW1vdmVDbGFzcyhcImhvdmVyXCIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB0b3BCdXV0b24gPSBuZXcgQnV0dG9uQ29tcG9uZW50KHRvb2xiYXIpO1xyXG4gICAgICAgIHRvcEJ1dXRvblxyXG4gICAgICAgICAgICAuc2V0SWNvbihcImRvdWJsZS11cC1hcnJvdy1nbHlwaFwiKVxyXG4gICAgICAgICAgICAuc2V0VG9vbHRpcChcIlNjcm9sbCB0byBUb3BcIilcclxuICAgICAgICAgICAgLnNldENsYXNzKFwidG9wXCIpXHJcbiAgICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3LnNldEVwaGVtZXJhbFN0YXRlKHtcInNjcm9sbFwiOjB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudF9maWxlID0gYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKClcclxuICAgICAgICBnbG9iYWxUaGlzLmhlYWRpbmdkYXRhID0gYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGN1cnJlbnRfZmlsZSkuaGVhZGluZ3NcclxuICAgICAgICBpZiAoZ2xvYmFsVGhpcy5oZWFkaW5nZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAocGx1Z2luLnNldHRpbmdzLmlnbm9yZVRvcEhlYWRlcilcclxuICAgICAgICAgICAgICAgIGdsb2JhbFRoaXMuaGVhZGluZ2RhdGEgPSBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoY3VycmVudF9maWxlKS5oZWFkaW5ncy5zbGljZSgxKTtcclxuICAgICAgICAgICAgZ2xvYmFsVGhpcy5oZWFkaW5nZGF0YS5mb3JFYWNoKChoZWFkaW5nOiBIZWFkaW5nQ2FjaGUsIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXcgPSBhcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KVxyXG4gICAgICAgICAgICAgICAgY3JlYXRlTGkodmlldywgdWxfZG9tLCBoZWFkaW5nLCBpbmRleClcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjdXJyZW50bGVhZlxyXG4gICAgICAgICAgICAgICAgPy5xdWVyeVNlbGVjdG9yKFwiLm1hcmtkb3duLXNvdXJjZS12aWV3XCIpXHJcbiAgICAgICAgICAgICAgICAuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYmVmb3JlYmVnaW5cIiwgZmxvYXRpbmdUb2NXcmFwcGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuICAgIGxldCBNYXJrZG93biA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XHJcbiAgICBpZiAoTWFya2Rvd24pIHtcclxuICAgICAgICByZXF1aXJlQXBpVmVyc2lvbihcIjAuMTUuMFwiKSA/IGFjdGl2ZURvY3VtZW50ID0gYWN0aXZlV2luZG93LmRvY3VtZW50IDogYWN0aXZlRG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XHJcbiAgICAgICAgbGV0IHZpZXcgPSBwbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldylcclxuICAgICAgICBsZXQgZmxvYXRfdG9jX2RvbSA9IHZpZXcuY29udGVudEVsPy5xdWVyeVNlbGVjdG9yKFwiLmZsb2F0aW5nLXRvYy1kaXZcIik7XHJcblxyXG4gICAgICAgIGlmICghZmxvYXRfdG9jX2RvbSkge1xyXG4gICAgICAgICAgICBjb25zdCBmbG9hdGluZ1RvY1dyYXBwZXIgPSBjcmVhdGVFbChcImRpdlwiKTtcclxuICAgICAgICAgICAgZmxvYXRpbmdUb2NXcmFwcGVyLmFkZENsYXNzKFwiZmxvYXRpbmctdG9jLWRpdlwiKTtcclxuXHJcbiAgICAgICAgICAgIGdlblRvYyh2aWV3LmNvbnRlbnRFbCwgZmxvYXRpbmdUb2NXcmFwcGVyKVxyXG4gICAgICAgIH0gZWxzZSByZXR1cm47XHJcbiAgICB9XHJcblxyXG59IiwgImltcG9ydCB0eXBlIEZsb2F0aW5nVG9jIGZyb20gXCJzcmMvbWFpblwiO1xyXG5pbXBvcnQgeyBBcHAsIFNldHRpbmcsIFBsdWdpblNldHRpbmdUYWIsIEJ1dHRvbkNvbXBvbmVudCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBQT1NJVElPTl9TVFlMRVMgfSBmcm9tIFwic3JjL3NldHRpbmdzL3NldHRpbmdzRGF0YVwiO1xyXG5pbXBvcnQgeyBzZWxmRGVzdHJ1Y3QgfSBmcm9tIFwic3JjL21haW5cIjtcclxuaW1wb3J0IHsgY3JlYXRUb2MgfSBmcm9tIFwic3JjL2NvbXBvbmVudHMvZmxvYXRpbmd0b2NVSVwiXHJcbmltcG9ydCB7IHQgfSBmcm9tICdzcmMvdHJhbnNsYXRpb25zL2hlbHBlcic7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBGbG90aW5nVE9DU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG4gIHBsdWdpbjogRmxvYXRpbmdUb2M7XHJcbiAgYXBwZW5kTWV0aG9kOiBzdHJpbmc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEZsb2F0aW5nVG9jKSB7XHJcbiAgICBzdXBlcihhcHAsIHBsdWdpbik7XHJcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJyZWZyZXNoLXRvY1wiLCAoKSA9PiB7XHJcbiAgICAgIHNlbGZEZXN0cnVjdCgpO1xyXG4gICAgICBjcmVhdFRvYyhhcHAsIHRoaXMucGx1Z2luKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGlzcGxheSgpOiB2b2lkIHtcclxuICAgIGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XHJcbiAgICBjb250YWluZXJFbC5lbXB0eSgpO1xyXG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoMVwiLCB7IHRleHQ6IFwiT2JzaWRpYW4gRmxvYXRpbmcgVE9DIFwiIH0pO1xyXG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJzcGFuXCIsIHsgdGV4dDogXCJcIiB9KS5jcmVhdGVFbChcImFcIiwge1xyXG4gICAgICB0ZXh0OiBcIkF1dGhvcjogQ3VtYW4gXHUyNzI4XCIsXHJcbiAgICAgIGhyZWY6IFwiaHR0cHM6Ly9naXRodWIuY29tL2N1bWFueVwiLFxyXG4gICAgfSlcclxuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6IFwiXCIgfSkuY3JlYXRlRWwoXCJhXCIsIHtcclxuICAgICAgdGV4dDogXCJSZWFkbWU6XHU0RTJEXHU2NTg3XCIsXHJcbiAgICAgIGhyZWY6IFwiaHR0cHM6Ly9naXRodWIuY29tL2N1bWFueS9vYnNpZGlhbi1mbG9hdGluZy10b2MtcGx1Z2luL2Jsb2IvbWFzdGVyL1JFQURNRS16aF9jbi5tZFwiLFxyXG4gICAgfSlcclxuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6IFwiXCIgfSkuY3JlYXRlRWwoXCJhXCIsIHtcclxuICAgICAgdGV4dDogXCJ8RW5nbGlzaCAgXCIsXHJcbiAgICAgIGhyZWY6IFwiaHR0cHM6Ly9naXRodWIuY29tL2N1bWFueS9vYnNpZGlhbi1mbG9hdGluZy10b2MtcGx1Z2luL2Jsb2IvbWFzdGVyL1JFQURNRS5tZFwiLFxyXG4gICAgfSk7XHJcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwgeyB0ZXh0OiBcIlx1RDgzRFx1REQxMVRJUFM6IFwiIH0pXHJcbiAgICAgIC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgIHRleHQ6IFwiY3RybCArIGNsaWNrIG9uIHRoZSBmbG9hdGluZyB0b2MgdG8gY29sbGFwc2UvZXhwYW5kIHRoZSBoZWFkZXIuXCJcclxuICAgICAgfSk7XHJcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogdChcIlBsdWdpbiBTZXR0aW5nc1wiKSB9KTtcclxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAuc2V0TmFtZSh0KCdGbG9hdGluZyBUT0MgcG9zaXRpb24nKVxyXG4gICAgICApXHJcbiAgICAgIC5zZXREZXNjKHQoJ0Zsb2F0aW5nIFRPQyBwb3NpdGlvbiwgZGVmYXVsdCBvbiB0aGUgbGVmdCBzaWRlIG9mIHRoZSBub3RlcycpXHJcbiAgICAgIClcclxuICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgIGxldCBwb3NvdGlvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcclxuICAgICAgICBQT1NJVElPTl9TVFlMRVMubWFwKChwb3NvdGlvbjogc3RyaW5nKSA9PiAocG9zb3Rpb25zW3Bvc290aW9uXSA9IHBvc290aW9uKSk7XHJcbiAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9ucyhwb3NvdGlvbnMpO1xyXG4gICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucG9zaXRpb25TdHlsZSlcclxuICAgICAgICAgIC5vbkNoYW5nZSgocG9zaXRpb25TdHlsZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnBvc2l0aW9uU3R5bGUgPSBwb3NpdGlvblN0eWxlO1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJyZWZyZXNoLXRvY1wiKSk7XHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICAgIGlmKHRoaXMucGx1Z2luLnNldHRpbmdzLnBvc2l0aW9uU3R5bGU9PVwicmlnaHRcIil7XHJcbiAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAuc2V0TmFtZSh0KCdMZWZ0IEFsaWduZWQnKVxyXG4gICAgICApXHJcbiAgICAgIC5zZXREZXNjKFxyXG4gICAgICAgIHQoXCJ3aGV0aGVyIGl0IGlzIGxlZnQgb3IgcmlnaHQgYWxpZ25lZCBXaGVuIHRoZSBmbG9hdGluZyB0b2MgaXMgb24gdGhlIHJpZ2h0XCIpXHJcbiAgICAgIClcclxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzPy5pc0xlZnQpXHJcbiAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNMZWZ0ID0gdmFsdWU7XHJcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJyZWZyZXNoLXRvY1wiKSk7XHJcbiAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgfVxyXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKHQoJ01vYmlsZSBlbmFibGVkIG9yIG5vdCcpXHJcbiAgICAgIClcclxuICAgICAgLnNldERlc2MoXHJcbiAgICAgICAgdChcIldoZXRoZXIgdG8gZW5hYmxlIHRoZSBwbHVnaW4gZm9yIHRoZSBtb2JpbGUgY2xpZW50LCB0aGUgZGVmYXVsdCBpcyBlbmFibGVkLlwiKVxyXG4gICAgICApXHJcbiAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncz8uaXNMb2FkT25Nb2JpbGUpXHJcbiAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNMb2FkT25Nb2JpbGUgPSB2YWx1ZTtcclxuICAgICAgICAgIHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwicmVmcmVzaC10b2NcIikpO1xyXG4gICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKHQoJ0lnbm9yZSB0b3AtbGV2ZWwgaGVhZGVycycpXHJcbiAgICAgIClcclxuICAgICAgLnNldERlc2MoXHJcbiAgICAgICAgdChcIlNlbGVjdCB3aGV0aGVyIHRvIGlnbm9yZSB0aGUgdG9wLWxldmVsIGhlYWRpbmdzLiBXaGVuIHR1cm5lZCBvbiwgdGhlIHRvcC1sZXZlbCBoZWFkaW5ncyBpbiB0aGUgY3VycmVudCBub3RlIGFyZSBub3QgZGlzcGxheWVkIGluIHRoZSBmbG9hdGluZyBUT0MuXCIpXHJcbiAgICAgIClcclxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzPy5pZ25vcmVUb3BIZWFkZXIpXHJcbiAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaWdub3JlVG9wSGVhZGVyID0gdmFsdWU7XHJcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInJlZnJlc2gtdG9jXCIpKTtcclxuICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgfSkpOyBcclxuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiB0KFwiUGx1Z2luIFN0eWxlIFNldHRpbmdzXCIpIH0pO1xyXG5cclxuICAgIGNvbnN0IGlzRW5hYmxlZCA9IGFwcC5wbHVnaW5zLmVuYWJsZWRQbHVnaW5zLmhhcyhcIm9ic2lkaWFuLXN0eWxlLXNldHRpbmdzXCIpO1xyXG4gICAgaWYgKGlzRW5hYmxlZCkge1xyXG4gICAgICBcclxuICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHsgdGV4dDogXCJcdUQ4M0RcdUREMTROb3RpY2U6IFwiIH0pXHJcbiAgICAgIC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgIHRleHQ6IHQoXCJJZiB0aGUgZmxvYXRpbmcgVG9jIG9wdGlvbiBpcyBub3QgZm91bmQgaW4gdGhlIHN0eWxlIHNldHRpbmcsIHBsZWFzZSByZWxvYWQgdGhlIHN0eWxlIHNldHRpbmcgcGx1Z2luICh0dXJuIGl0IG9mZiBhbmQgb24gYWdhaW4pXCIpXHJcbiAgICAgIH0pO1xyXG4gICAgICBsZXQgYnV0dG9uID0gbmV3IEJ1dHRvbkNvbXBvbmVudChjb250YWluZXJFbCk7XHJcbiAgICAgIGJ1dHRvblxyXG4gICAgICAgIC5zZXRJY29uKFwicGFsZXR0ZVwiKVxyXG4gICAgICAgIC5zZXRDbGFzcyhcInRpbnlcIilcclxuICAgICAgICAuc2V0QnV0dG9uVGV4dChcIlx1RDgzQ1x1REZBOCBPcGVuIHN0eWxlIHNldHRpbmdzXCIpXHJcbiAgICAgICAgLm9uQ2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgYXBwLnNldHRpbmcub3BlbigpO1xyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBhcHAuc2V0dGluZy5vcGVuVGFiQnlJZChcIm9ic2lkaWFuLXN0eWxlLXNldHRpbmdzXCIpLCAzMDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJzcGFuXCIsIHsgdGV4dDogXCJcIiB9KS5jcmVhdGVFbChcImFcIiwge1xyXG4gICAgICAgIHRleHQ6IFwiUGxlYXNlIGluc3RhbGwgb3IgZW5hYmxlIHRoZSBzdHlsZS1zZXR0aW5ncyBwbHVnaW5cIixcclxuICAgICAgICBocmVmOiBcIm9ic2lkaWFuOi8vc2hvdy1wbHVnaW4/aWQ9b2JzaWRpYW4tc3R5bGUtc2V0dGluZ3NcIixcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcblxyXG4gICAgY29uc3QgY0RvbmF0aW9uRGl2ID0gY29udGFpbmVyRWwuY3JlYXRlRWwoXCJkaXZcIiwge1xyXG4gICAgICBjbHM6IFwiY0RvbmF0aW9uU2VjdGlvblwiLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgY3JlZGl0ID0gY3JlYXRlRWwoXCJwXCIpO1xyXG4gICAgY29uc3QgZG9uYXRlVGV4dCA9IGNyZWF0ZUVsKFwicFwiKTtcclxuICAgIGRvbmF0ZVRleHQuYXBwZW5kVGV4dChcclxuICAgICAgXCJJZiB5b3UgbGlrZSB0aGlzIFBsdWdpbiBhbmQgYXJlIGNvbnNpZGVyaW5nIGRvbmF0aW5nIHRvIHN1cHBvcnQgY29udGludWVkIGRldmVsb3BtZW50LCB1c2UgdGhlIGJ1dHRvbiBiZWxvdyFcIlxyXG4gICAgKTtcclxuICAgIGNyZWRpdC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcImNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKVwiKTtcclxuICAgIGNEb25hdGlvbkRpdi5hcHBlbmRDaGlsZChkb25hdGVUZXh0KTtcclxuICAgIGNEb25hdGlvbkRpdi5hcHBlbmRDaGlsZChjcmVkaXQpO1xyXG5cclxuICAgIGNEb25hdGlvbkRpdi5hcHBlbmRDaGlsZChcclxuICAgICAgY3JlYXRlRG9uYXRlQnV0dG9uKFwiaHR0cHM6Ly9naXRodWIuY29tL2N1bWFueSN0aGFuay15b3UtdmVyeS1tdWNoLWZvci15b3VyLXN1cHBvcnRcIilcclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBjcmVhdGVEb25hdGVCdXR0b24gPSAobGluazogc3RyaW5nKTogSFRNTEVsZW1lbnQgPT4ge1xyXG4gIGNvbnN0IGEgPSBjcmVhdGVFbChcImFcIik7XHJcbiAgYS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGxpbmspO1xyXG4gIGEuYWRkQ2xhc3MoXCJidXltZWFjb2ZmZWUtaW1nXCIpO1xyXG4gIGEuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiaHR0cHM6Ly9pbWcuYnV5bWVhY29mZmVlLmNvbS9idXR0b24tYXBpLz90ZXh0PUJ1eSBtZSBhIGNvZmZlZSAmZW1vamk9JnNsdWc9Q3VtYW4mYnV0dG9uX2NvbG91cj1CRDVGRkYmZm9udF9jb2xvdXI9ZmZmZmZmJmZvbnRfZmFtaWx5PVBvcHBpbnMmb3V0bGluZV9jb2xvdXI9MDAwMDAwJmNvZmZlZV9jb2xvdXI9RkZERDAwXCIgLz5gO1xyXG4gIHJldHVybiBhO1xyXG59O1xyXG5cclxuXHJcblxyXG4iLCAiXHJcblxyXG5leHBvcnQgY29uc3QgUE9TSVRJT05fU1RZTEVTID0gW1wibGVmdFwiLCBcInJpZ2h0XCJdO1xyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRmxvdGluZ1RPQ1NldHRpbmcge1xyXG4gIGlnbm9yZVRvcEhlYWRlcjogYm9vbGVhbjtcclxuICBwb3NpdGlvblN0eWxlOiBzdHJpbmc7XHJcbiAgaXNMb2FkT25Nb2JpbGU6Ym9vbGVhbjtcclxuICBpc0xlZnQ6Ym9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEZsb3RpbmdUT0NTZXR0aW5nID0ge1xyXG4gIGlnbm9yZVRvcEhlYWRlcjogZmFsc2UsXHJcbiAgcG9zaXRpb25TdHlsZTogXCJsZWZ0XCIsXHJcbiAgaXNMb2FkT25Nb2JpbGU6IHRydWUsXHJcbiAgaXNMZWZ0OiBmYWxzZVxyXG59O1xyXG4iLCAiLy8gQ29kZSBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS92YWxlbnRpbmUxOTUvb2JzaWRpYW4tYWRtb25pdGlvbi9ibG9iL21hc3Rlci9zcmMvbGFuZy9oZWxwZXJzLnRzXHJcblxyXG5pbXBvcnQgeyBtb21lbnQgfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5pbXBvcnQgYXIgZnJvbSAnLi9sb2NhbGUvYXInO1xyXG5pbXBvcnQgY3ogZnJvbSAnLi9sb2NhbGUvY3onO1xyXG5pbXBvcnQgZGEgZnJvbSAnLi9sb2NhbGUvZGEnO1xyXG5pbXBvcnQgZGUgZnJvbSAnLi9sb2NhbGUvZGUnO1xyXG5pbXBvcnQgZW4gZnJvbSAnLi9sb2NhbGUvZW4nO1xyXG5pbXBvcnQgZW5HQiBmcm9tICcuL2xvY2FsZS9lbi1nYic7XHJcbmltcG9ydCBlcyBmcm9tICcuL2xvY2FsZS9lcyc7XHJcbmltcG9ydCBmciBmcm9tICcuL2xvY2FsZS9mcic7XHJcbmltcG9ydCBoaSBmcm9tICcuL2xvY2FsZS9oaSc7XHJcbmltcG9ydCBpZCBmcm9tICcuL2xvY2FsZS9pZCc7XHJcbmltcG9ydCBpdCBmcm9tICcuL2xvY2FsZS9pdCc7XHJcbmltcG9ydCBqYSBmcm9tICcuL2xvY2FsZS9qYSc7XHJcbmltcG9ydCBrbyBmcm9tICcuL2xvY2FsZS9rbyc7XHJcbmltcG9ydCBubCBmcm9tICcuL2xvY2FsZS9ubCc7XHJcbmltcG9ydCBubyBmcm9tICcuL2xvY2FsZS9ubyc7XHJcbmltcG9ydCBwbCBmcm9tICcuL2xvY2FsZS9wbCc7XHJcbmltcG9ydCBwdCBmcm9tICcuL2xvY2FsZS9wdCc7XHJcbmltcG9ydCBwdEJSIGZyb20gJy4vbG9jYWxlL3B0LWJyJztcclxuaW1wb3J0IHJvIGZyb20gJy4vbG9jYWxlL3JvJztcclxuaW1wb3J0IHJ1IGZyb20gJy4vbG9jYWxlL3J1JztcclxuaW1wb3J0IHRyIGZyb20gJy4vbG9jYWxlL3RyJztcclxuaW1wb3J0IHpoQ04gZnJvbSAnLi9sb2NhbGUvemgtY24nO1xyXG5pbXBvcnQgemhUVyBmcm9tICcuL2xvY2FsZS96aC10dyc7XHJcblxyXG5jb25zdCBsb2NhbGVNYXA6IHsgW2s6IHN0cmluZ106IFBhcnRpYWw8dHlwZW9mIGVuPiB9ID0ge1xyXG4gIGFyLFxyXG4gIGNzOiBjeixcclxuICBkYSxcclxuICBkZSxcclxuICBlbixcclxuICAnZW4tZ2InOiBlbkdCLFxyXG4gIGVzLFxyXG4gIGZyLFxyXG4gIGhpLFxyXG4gIGlkLFxyXG4gIGl0LFxyXG4gIGphLFxyXG4gIGtvLFxyXG4gIG5sLFxyXG4gIG5uOiBubyxcclxuICBwbCxcclxuICBwdCxcclxuICAncHQtYnInOiBwdEJSLFxyXG4gIHJvLFxyXG4gIHJ1LFxyXG4gIHRyLFxyXG4gICd6aC1jbic6IHpoQ04sXHJcbiAgJ3poLXR3JzogemhUVyxcclxufTtcclxuXHJcbmNvbnN0IGxvY2FsZSA9IGxvY2FsZU1hcFttb21lbnQubG9jYWxlKCldO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHQoc3RyOiBrZXlvZiB0eXBlb2YgZW4pOiBzdHJpbmcge1xyXG4gIHJldHVybiAobG9jYWxlICYmIGxvY2FsZVtzdHJdKSB8fCBlbltzdHJdO1xyXG59XHJcbiIsICIvLyBcdTA2MjdcdTA2NDRcdTA2MzlcdTA2MzFcdTA2MjhcdTA2NEFcdTA2MjlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHt9O1xyXG4iLCAiLy8gXHUwMTBEZVx1MDE2MXRpbmFcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHt9O1xyXG4iLCAiLy8gRGFuc2tcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHt9O1xyXG4iLCAiLy8gRGV1dHNjaFxyXG5cclxuZXhwb3J0IGRlZmF1bHQge307XHJcbiIsICJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICAnRmxvYXRpbmcgVE9DIHBvc2l0aW9uJzonRmxvYXRpbmcgVE9DIHBvc2l0aW9uJyxcclxuICAgICdGbG9hdGluZyBUT0MgcG9zaXRpb24sIGRlZmF1bHQgb24gdGhlIGxlZnQgc2lkZSBvZiB0aGUgbm90ZXMnOidGbG9hdGluZyBUT0MgcG9zaXRpb24sIGRlZmF1bHQgb24gdGhlIGxlZnQgc2lkZSBvZiB0aGUgbm90ZXMnLFxyXG4gICAgJ0lnbm9yZSB0b3AtbGV2ZWwgaGVhZGVycyc6J0lnbm9yZSB0b3AtbGV2ZWwgaGVhZGVycycsXHJcbiAgICAnU2VsZWN0IHdoZXRoZXIgdG8gaWdub3JlIHRoZSB0b3AtbGV2ZWwgaGVhZGluZ3MuIFdoZW4gdHVybmVkIG9uLCB0aGUgdG9wLWxldmVsIGhlYWRpbmdzIGluIHRoZSBjdXJyZW50IG5vdGUgYXJlIG5vdCBkaXNwbGF5ZWQgaW4gdGhlIGZsb2F0aW5nIFRPQy4nOidTZWxlY3Qgd2hldGhlciB0byBpZ25vcmUgdGhlIHRvcC1sZXZlbCBoZWFkaW5ncy4gV2hlbiB0dXJuZWQgb24sIHRoZSB0b3AtbGV2ZWwgaGVhZGluZ3MgaW4gdGhlIGN1cnJlbnQgbm90ZSBhcmUgbm90IGRpc3BsYXllZCBpbiB0aGUgZmxvYXRpbmcgVE9DLicsICAgIFxyXG4gICAgJ1BsdWdpbiBTZXR0aW5ncyc6J1BsdWdpbiBTZXR0aW5ncycsXHJcbiAgICAnUGx1Z2luIFN0eWxlIFNldHRpbmdzJzogJ1BsdWdpbiBTdHlsZSBTZXR0aW5ncycsXHJcbiAgICAnTW9iaWxlIGVuYWJsZWQgb3Igbm90JzonTW9iaWxlIGVuYWJsZWQgb3Igbm90JyxcclxuICAgICdXaGV0aGVyIHRvIGVuYWJsZSB0aGUgcGx1Z2luIGZvciB0aGUgbW9iaWxlIGNsaWVudCwgdGhlIGRlZmF1bHQgaXMgZW5hYmxlZC4nOidXaGV0aGVyIHRvIGVuYWJsZSB0aGUgcGx1Z2luIGZvciB0aGUgbW9iaWxlIGNsaWVudCwgdGhlIGRlZmF1bHQgaXMgZW5hYmxlZC4nLFxyXG4gICAgJ0lmIHRoZSBmbG9hdGluZyBUb2Mgb3B0aW9uIGlzIG5vdCBmb3VuZCBpbiB0aGUgc3R5bGUgc2V0dGluZywgcGxlYXNlIHJlbG9hZCB0aGUgc3R5bGUgc2V0dGluZyBwbHVnaW4gKHR1cm4gaXQgb2ZmIGFuZCBvbiBhZ2FpbiknOidJZiB0aGUgZmxvYXRpbmcgVG9jIG9wdGlvbiBpcyBub3QgZm91bmQgaW4gdGhlIHN0eWxlIHNldHRpbmcsIHBsZWFzZSByZWxvYWQgdGhlIHN0eWxlIHNldHRpbmcgcGx1Z2luICh0dXJuIGl0IG9mZiBhbmQgb24gYWdhaW4pJyxcclxuICAgICdMZWZ0IEFsaWduZWQnOidMZWZ0IEFsaWduZWQnLFxyXG4gICAgJ3doZXRoZXIgaXQgaXMgbGVmdCBvciByaWdodCBhbGlnbmVkIFdoZW4gdGhlIGZsb2F0aW5nIHRvYyBpcyBvbiB0aGUgcmlnaHQnOid3aGV0aGVyIGl0IGlzIGxlZnQgb3IgcmlnaHQgYWxpZ25lZCBXaGVuIHRoZSBmbG9hdGluZyB0b2MgaXMgb24gdGhlIHJpZ2h0J1xyXG59O1xyXG4iLCAiLy8gQnJpdGlzaCBFbmdsaXNoXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7fTtcclxuIiwgIi8vIEVzcGFcdTAwRjFvbFxyXG5cclxuZXhwb3J0IGRlZmF1bHQge307XHJcbiIsICJleHBvcnQgZGVmYXVsdCB7fTtcclxuIiwgIi8vIFx1MDkzOVx1MDkzRlx1MDkyOFx1MDk0RFx1MDkyNlx1MDk0MFxyXG5cclxuZXhwb3J0IGRlZmF1bHQge307XHJcbiIsICIvLyBCYWhhc2EgSW5kb25lc2lhXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7fTtcclxuIiwgIi8vIEl0YWxpYW5vXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7fTtcclxuIiwgIi8vIFx1NjVFNVx1NjcyQ1x1OEE5RVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge307XHJcbiIsICIvLyBcdUQ1NUNcdUFENkRcdUM1QjRcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHt9O1xyXG4iLCAiLy8gTmVkZXJsYW5kc1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge307XHJcbiIsICIvLyBOb3Jza1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge307XHJcbiIsICIvLyBqXHUwMTE5enlrIHBvbHNraVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge307XHJcbiIsICJleHBvcnQgZGVmYXVsdCB7fTtcclxuIiwgImV4cG9ydCBkZWZhdWx0IHt9O1xyXG4iLCAiLy8gUm9tXHUwMEUyblx1MDEwM1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge307XHJcbiIsICIvLyBcdTA0NDBcdTA0NDNcdTA0NDFcdTA0NDFcdTA0M0FcdTA0MzhcdTA0MzlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHt9O1xyXG4iLCAiLy8gVFx1MDBGQ3JrXHUwMEU3ZVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge307XHJcbiIsICJleHBvcnQgZGVmYXVsdCB7XHJcbiAgLy8gc2V0dGluZy50c1xyXG4gICdGbG9hdGluZyBUT0MgcG9zaXRpb24nOiAnXHU2RDZFXHU1MkE4XHU3NkVFXHU1RjU1XHU2NjNFXHU3OTNBXHU0RjREXHU3RjZFJyxcclxuICAnRmxvYXRpbmcgVE9DIHBvc2l0aW9uLCBkZWZhdWx0IG9uIHRoZSBsZWZ0IHNpZGUgb2YgdGhlIG5vdGVzJzogJ1x1NkQ2RVx1NTJBOFx1NzZFRVx1NUY1NVx1NjYzRVx1NzkzQVx1NEY0RFx1N0Y2RVx1RkYwQ1x1OUVEOFx1OEJBNFx1NjYzRVx1NzkzQVx1NTcyOFx1N0IxNFx1OEJCMFx1NURFNlx1NEZBNycsXHJcbiAgJ0lnbm9yZSB0b3AtbGV2ZWwgaGVhZGVycyc6ICdcdTY2MkZcdTU0MjZcdTVGRkRcdTc1NjVcdTk4NzZcdTdFQTdcdTc2RUVcdTVGNTUnLFxyXG4gICdTZWxlY3Qgd2hldGhlciB0byBpZ25vcmUgdGhlIHRvcC1sZXZlbCBoZWFkaW5ncy4gV2hlbiB0dXJuZWQgb24sIHRoZSB0b3AtbGV2ZWwgaGVhZGluZ3MgaW4gdGhlIGN1cnJlbnQgbm90ZSBhcmUgbm90IGRpc3BsYXllZCBpbiB0aGUgZmxvYXRpbmcgVE9DLic6ICdcdTkwMDlcdTYyRTlcdTY2MkZcdTU0MjZcdTVGRkRcdTc1NjVcdTk4NzZcdTdFQTdcdTY4MDdcdTk4OThcdUZGMENcdTVGMDBcdTU0MkZcdTU0MEVcdTVGNTNcdTUyNERcdTY1ODdcdTY4NjNcdTRFMkRcdTY3MDBcdTk4NzZcdTdFQTdcdTc2ODRcdTY4MDdcdTk4OThcdTRFMERcdTY2M0VcdTc5M0FcdTU3MjhcdTZENkVcdTUyQThcdTc2RUVcdTVGNTVcdTRFMkRcdTMwMDInLFxyXG4gICdQbHVnaW4gU2V0dGluZ3MnOiAnXHU2M0QyXHU0RUY2XHU4QkJFXHU3RjZFJyxcclxuICAnUGx1Z2luIFN0eWxlIFNldHRpbmdzJzogJ1x1NjNEMlx1NEVGNlx1NjgzN1x1NUYwRlx1OEJCRVx1N0Y2RScsXHJcbiAgJ01vYmlsZSBlbmFibGVkIG9yIG5vdCc6ICdcdTY2MkZcdTU0MjZcdTU3MjhcdTc5RkJcdTUyQThcdTdBRUZcdTU0MkZcdTc1MjgnLFxyXG4gICdXaGV0aGVyIHRvIGVuYWJsZSB0aGUgcGx1Z2luIGZvciB0aGUgbW9iaWxlIGNsaWVudCwgdGhlIGRlZmF1bHQgaXMgZW5hYmxlZC4nOidcdTc5RkJcdTUyQThcdTVCQTJcdTYyMzdcdTdBRUZcdTY2MkZcdTU0MjZcdTU0MkZcdTc1MjhcdTYzRDJcdTRFRjZcdUZGMENcdTlFRDhcdThCQTRcdTU0MkZcdTc1MjhcdTMwMDInLFxyXG4gICdJZiB0aGUgZmxvYXRpbmcgVG9jIG9wdGlvbiBpcyBub3QgZm91bmQgaW4gdGhlIHN0eWxlIHNldHRpbmcsIHBsZWFzZSByZWxvYWQgdGhlIHN0eWxlIHNldHRpbmcgcGx1Z2luICh0dXJuIGl0IG9mZiBhbmQgb24gYWdhaW4pJzonXHU1OTgyXHU2NzlDc3R5bGUgc2V0dGluZyBcdTRFMkRcdTY1RTBcdTZDRDVcdTc3MEJcdTUyMzAgZmxvYXRpbmcgVG9jXHU5MDA5XHU5ODc5XHVGRjBDXHU4QkY3XHU5MUNEXHU4RjdEc3R5bGUgc2V0dGluZ1x1NjNEMlx1NEVGNlx1RkYwOFx1NTE3M1x1OTVFRFx1NTE4RFx1NUYwMFx1NTQyRlx1NTM3M1x1NTNFRlx1RkYwOScsXHJcbiAgJ0xlZnQgQWxpZ25lZCc6J1x1NURFNlx1NUJGOVx1OUY1MCcsXHJcbiAgJ3doZXRoZXIgaXQgaXMgbGVmdCBvciByaWdodCBhbGlnbmVkIFdoZW4gdGhlIGZsb2F0aW5nIHRvYyBpcyBvbiB0aGUgcmlnaHQnOidcdTVGNTNcdTVERTVcdTUxNzdcdTY4MEZcdTU3MjhcdTUzRjNcdTRGQTdcdTY1RjZcdUZGMENcdTY2MkZcdTU0MjZcdTVERTZcdTVCRjlcdTlGNTAnXHJcbn07XHJcbiIsICIvLyBcdTdFNDFcdTlBRDRcdTRFMkRcdTY1ODdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHt9O1xyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs2eUJBQUEseUVBQStGLHVCQ0UvRixNQUF1SCx1QkFHdkgsV0FDSSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQXVCLEtBQ3pCLGdDQUNFLEdBQU0sR0FBUSxzQkFDUixFQUFTLG9CQUNYLEVBQ0EsRUFBVSxHQUNkLEFBQUssR0FBSSxFQUFNLEtBQUssTUFBYSxLQUM3QixHQUFVLEVBQUUsR0FDWixFQUFTLEVBQU8sUUFBUSxFQUFPLEtBQ3ZCLEdBQUksRUFBTyxLQUFLLE1BQWEsTUFDckMsR0FBVSxFQUFFLEdBQ1osRUFBUyxFQUFPLFFBQVEsRUFBUSxLQUVwQyxHQUFJLEdBQWUsRUFDbkIsS0FBTSxvQkFBaUIsZUFDbkIsRUFDQSxFQUNB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
